(function(e){function t(t){for(var o,c,a=t[0],s=t[1],l=t[2],u=0,d=[];u<a.length;u++)c=a[u],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,c=1;c<n.length;c++){var a=n[c];0!==r[a]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},c={app:0},r={app:0},i=[];function a(e){return s.p+"js/"+({about:"about",home:"home",pageblock:"pageblock",pagesindex:"pagesindex",sharepageblock:"sharepageblock"}[e]||e)+"."+{about:"fefacb56",home:"82952ef8",pageblock:"9f77bf16",pagesindex:"1c244e0d",sharepageblock:"d98e0279"}[e]+".js"}function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={home:1,pageblock:1,pagesindex:1,sharepageblock:1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var o="css/"+({about:"about",home:"home",pageblock:"pageblock",pagesindex:"pagesindex",sharepageblock:"sharepageblock"}[e]||e)+"."+{about:"31d6cfe0",home:"d3e7ed7d",pageblock:"56bd4676",pagesindex:"1cd6f6ad",sharepageblock:"6ad94405"}[e]+".css",r=s.p+o,i=document.getElementsByTagName("link"),a=0;a<i.length;a++){var l=i[a],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===r))return t()}var d=document.getElementsByTagName("style");for(a=0;a<d.length;a++){l=d[a],u=l.getAttribute("data-href");if(u===o||u===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete c[e],p.parentNode.removeChild(p),n(i)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){c[e]=0})));var o=r[e];if(0!==o)if(o)t.push(o[2]);else{var i=new Promise((function(t,n){o=r[e]=[t,n]}));t.push(o[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=a(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",d.name="ChunkLoadError",d.type=o,d.request=c,n[1](d)}r[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"02e6":function(e,t,n){},"0d59":function(e,t,n){"use strict";n.d(t,"d",(function(){return o["d"]})),n.d(t,"b",(function(){return o["b"]})),n.d(t,"e",(function(){return o["f"]})),n.d(t,"a",(function(){return o["a"]})),n.d(t,"c",(function(){return o["c"]}));var o=n("3e1e");n("b0c0"),n("d4ec")},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},13:function(e,t){},14:function(e,t){},15:function(e,t){},16:function(e,t){},"1ef1":function(e,t,n){},2:function(e,t){},2288:function(e,t,n){"use strict";n("6956")},3:function(e,t){},3020:function(e,t,n){"use strict";var o=n("7a23"),c={class:"cover",style:{"pointer-events":"none"}};function r(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("div",c,[Object(o["renderSlot"])(e.$slots,"default")])}var i={name:"Cover"};n("34c5");i.render=r;t["a"]=i},"34c5":function(e,t,n){"use strict";n("6953")},"3e1e":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return O})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return N}));n("a15b"),n("d3b7"),n("25f0"),n("ddb0");var o,c,r,i,a,s,l=n("bee2"),u=n("262e"),d=n("2caf"),p=n("d4ec"),f=n("d257");(function(e){e[e["Page"]=0]="Page",e[e["Block"]=1]="Block",e[e["Comment"]=2]="Comment"})(o||(o={})),function(e){e[e["Working"]=10]="Working",e[e["Save"]=11]="Save",e[e["Add"]=12]="Add",e[e["Changing"]=13]="Changing",e[e["Deleting"]=14]="Deleting"}(c||(c={})),r||(r={}),function(e){e[e["Page"]=100]="Page",e[e["CodeFile"]=101]="CodeFile"}(i||(i={})),function(e){e[e["Attach"]=200]="Attach",e[e["Audio"]=201]="Audio",e[e["Bookmark"]=202]="Bookmark",e[e["Code"]=203]="Code",e[e["Formula"]=204]="Formula",e[e["Markdown"]=205]="Markdown",e[e["PageLink"]=206]="PageLink",e[e["Picture"]=207]="Picture",e[e["SplitLine"]=208]="SplitLine",e[e["Text"]=209]="Text",e[e["Video"]=210]="Video"}(a||(a={})),console.log(a.Markdown,a,"blocktype"),function(e){e[e["Page"]=300]="Page",e[e["Block"]=301]="Block",e[e["Comment"]=302]="Comment"}(s||(s={}));var h=function e(t){var n=t.deep,o=t.guide,c=t.hasNext,r=t.openid,i=t.parent,a=t.value;Object(p["a"])(this,e),this.deep=null!==n&&void 0!==n?n:0,this.guide=null!==o&&void 0!==o?o:0,this.hasNext=null!==c&&void 0!==c&&c,this.openid=null!==r&&void 0!==r?r:"",this.parent=null!==i&&void 0!==i?i:"",this.value=a},b=function(e){Object(u["a"])(n,e);var t=Object(d["a"])(n);function n(){var e,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(p["a"])(this,n),e=t.call(this,o);var r=o.category,i=o.created,a=o.hash,s=o.keys,l=o.setting,u=o.status,d=o.tags,f=o.title,h=o.type,b=o.updated;return e.category=null!==r&&void 0!==r?r:0,e.created=null!==i&&void 0!==i?i:0,e.hash=null!==a&&void 0!==a?a:"",e.keys=null!==s&&void 0!==s?s:[],e.setting=null!==l&&void 0!==l?l:"",e.status=null!==u&&void 0!==u?u:c.Working,e.tags=null!==d&&void 0!==d?d:[],e.title=null!==f&&void 0!==f?f:"",e.type=null!==h&&void 0!==h?h:0,e.updated=null!==b&&void 0!==b?b:0,e}return n}(h),g=function(e){Object(u["a"])(n,e);var t=Object(d["a"])(n);function n(e){var o;Object(p["a"])(this,n),o=t.call(this,e);var c=e.created,r=e.updated,i=e.openid;return o.openid=null!==i&&void 0!==i?i:Object(f["e"])(),o.created=null!==c&&void 0!==c?c:Object(f["f"])(),o.updated=null!==r&&void 0!==r?r:Object(f["f"])(),o}return Object(l["a"])(n,[{key:"setHash",value:function(){var e=this.copy();e.hash="",e.status=c.Working,this.hash=Object(f["d"])(e.toString())}},{key:"copy",value:function(){return new n(this.toJson())}},{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"toString",value:function(){return JSON.stringify(this.toJson())}},{key:"update",value:function(e){var t=e.deep,n=e.guide,o=e.hasNext,c=e.openid,r=e.parent,i=e.value;this.deep=null!==t&&void 0!==t?t:this.deep,this.guide=null!==n&&void 0!==n?n:this.guide,this.hasNext=null!==o&&void 0!==o?o:this.hasNext,this.openid=null!==c&&void 0!==c?c:this.openid,this.parent=null!==r&&void 0!==r?r:this.parent,this.value=null!==i&&void 0!==i?i:this.value;var a=e.category,s=e.created,l=e.hash,u=e.keys,d=e.setting,p=e.status,h=e.tags,b=e.title,g=e.type,v=e.updated;return this.category=null!==a&&void 0!==a?a:this.category,this.created=null!==s&&void 0!==s?s:this.created,this.hash=null!==l&&void 0!==l?l:this.hash,this.keys=null!==u&&void 0!==u?u:this.keys,this.setting=null!==d&&void 0!==d?d:this.setting,this.status=null!==p&&void 0!==p?p:this.status,this.tags=null!==h&&void 0!==h?h:this.tags,this.title=null!==b&&void 0!==b?b:this.title,this.type=null!==g&&void 0!==g?g:this.type,this.updated=null!==v&&void 0!==v?v:Object(f["f"])(),this.setHash(),this}},{key:"updateTime",value:function(){this.status=c.Changing,this.updated=Object(f["f"])(),this.setHash()}},{key:"newOpenid",value:function(){return this.openid=Object(f["e"])(),this}}]),n}(b),v=function(e){Object(u["a"])(n,e);var t=Object(d["a"])(n);function n(e){var c;return Object(p["a"])(this,n),c=t.call(this,e),c.category=o.Page,c}return Object(l["a"])(n,[{key:"setArrHash",value:function(e){this.updateTime(),this.hash=Object(f["d"])(e.join(""))}}]),n}(g),m=function(e){Object(u["a"])(n,e);var t=Object(d["a"])(n);function n(e){var c;return Object(p["a"])(this,n),c=t.call(this,e),c.category=o.Block,c}return n}(g),O=function(e){Object(u["a"])(n,e);var t=Object(d["a"])(n);function n(e){var c;return Object(p["a"])(this,n),c=t.call(this,e),c.category=o.Comment,c}return n}(g),j=new v({created:1598281553555,updated:1598281553555,openid:"6aca077736553e8df3024ea2999199c5",title:"开发计划",deep:1}),k=new v({created:1598281553486,updated:1598281553486,openid:"21cd06577c000b6d945112a8c8c148cf",title:"redding目的",deep:1}),w=[j,k],y=new m({index:0,category:"markdown",type:205,openid:"bea3dd51d32aafdb4dbd4fd9025fc3ca",parent:"6aca077736553e8df3024ea2999199c5",value:"### 数据模型\n\n```\ninterface PageDataInterface {\n  openid: string; // openid 生成\n  id?: number; // id定位\n\n  index: number; // 本地索引定位\n  guide: number; // 存放guide\n\n  key?: string; // key的值，关键字\n  tags?: Array<string>; // 标签\n  title: string; //block具有的title\n  value: any; // 值， 如果type类型为Object或者Array 则为空\n  parent?: string; // 关系openid\n  deep?: number; // 深度\n  hasNext: boolean; // 是否还有子节点\n\n  type: number | string; // 类型 page 1 block 2 comment 3\n  category?: string | number; // 分类，\n\n  hash: string; // 内容hash\n\n  share: boolean; // 是否分享\n\n  created: number;\n  updated: number;\n\n  setting: any; // 设置\n  app: number; // redding=1\n}\n```\n",hash:"2066ebaccb994ed845b1c98046ffa8a1a8edaf49",created:1598281553486,updated:1598281553486,setting:{showEdit:!0,previewCanEdit:!0}}),S=new m({index:0,category:"markdown",type:205,openid:"45a7da0b0d4a20da3479cbddff52e30a",parent:"21cd06577c000b6d945112a8c8c148cf",value:"## redding目的\n\n              借鉴\n              \n              - [notion](https://www.notion.so/)\n              - [wolai](www.wolai.com)\n              - [evernote](evernote.com/)\n              \n              等一系列的笔记，想来实现一个存于*浏览器*的笔记。\n              \n              目的：一切皆为自定义话的进行保存自己的笔记的内容。\n              \n              数据格式： 以节点为单位，树形为结构。\n              \n              vue + typescript + vuex\n              \n              利用一些其他的开源代码，监听键盘，管理样式  \n              ，管理函数，动态管理模块，开放化自己的数据  \n              管理层次，开放化网页的利用性。\n              \n              想以*new Function()*的形式进行在浏览器端运   \n              行代码，以至于，可以人为的自定义自己的这个网站。\n              \n              以前端来操作的东西，都一单页应用浏览器来进行   \n              操作，网页存在多姿多彩的，而思考以自定义化的   \n              方式进行保存那些网页的内容到自己的网页中，然 \n              后导出，导入。\n              \n              我想以vscode的编辑代码类型的方式来作为一个网  \n              页的笔记模块，亦或者数据模块。命令行，插件，  \n              快捷键，文件目录。而网页本身又可以做到图片，  \n              画图，3d，动画，游戏，可反馈操作，动态编辑元  \n              素，源码共享等等。\n              \n              ",hash:"2066ebaccb994ed845b1c98046ffa8a1a8edaf49",created:1598281553486,updated:1598281553486,setting:{showEdit:!0,previewCanEdit:!0}}),N=[y,S]},4:function(e,t){},"488e":function(e,t,n){},5:function(e,t){},"52be":function(e,t,n){"use strict";n("e5d3")},"594a":function(e,t,n){},6:function(e,t){},6953:function(e,t,n){},6956:function(e,t,n){},"6f8f":function(e,t,n){"use strict";n("7f0f")},7:function(e,t){},"7f0f":function(e,t,n){},8:function(e,t){},9:function(e,t){},9800:function(e,t,n){"use strict";n("ac80")},"9cdc":function(e,t,n){"use strict";n("c701")},a89b:function(e,t,n){},a8e8:function(e,t,n){"use strict";n("594a")},a981:function(e,t,n){},ac80:function(e,t,n){},b07e:function(e,t,n){},c701:function(e,t,n){},c8ae:function(e,t,n){"use strict";n("b07e")},cd49:function(e,t,n){"use strict";n.r(t);var o=n("5530"),c=(n("e623"),n("e379"),n("5dc8"),n("37e1"),n("7a23")),r=n("5502");function i(e,t){var n=Object(c["resolveComponent"])("router-view");Object(c["resolveComponent"])("Drag");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[e.isRouterAlive?Object(c["createVNode"])(n,{key:0}):Object(c["createCommentVNode"])("",!0),Object(c["createCommentVNode"])("",!0)],64)}function a(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"transparent",onMousedown:t[2]||(t[2]=function(){return e.onMoveDown.apply(e,arguments)}),onMousemove:t[3]||(t[3]=function(){return e.onMove.apply(e,arguments)}),onMouseup:t[4]||(t[4]=function(t){return e.isMove=!e.isMove}),draggable:"true"},[Object(c["createVNode"])("div",{class:"drag-window",ref:"window",onClick:t[1]||(t[1]=function(){return e.onGetPos.apply(e,arguments)})}," client(X:Y): ("+Object(c["toDisplayString"])(e.clientX)+","+Object(c["toDisplayString"])(e.clientY)+") ",513)],32)}var s={name:"Drag",data:function(){return{clientX:0,clientY:0,ox:0,oy:0,isMove:!1,el:null}},mounted:function(){this.el=this.$refs.window,console.log(this.el)},methods:{onGetPos:function(e){var t=e;this.clientX=t.clientX-t.offsetX,this.clientY=t.clientY-t.offsetY,this.isMove=!this.isMove,this.ox=t.offsetX,this.oy=t.offsetY},onMoveDown:function(e){console.log(e);var t=e;this.clientX=t.clientX-t.offsetX,this.clientY=t.clientY-t.offsetY,this.isMove=!0,this.ox=t.offsetX,this.oy=t.offsetY,console.log(this.el)},onMove:function(e){if(this.isMove){var t=e;this.clientX=t.clientX-this.ox,this.clientY=t.clientY-this.oy,this.el.style.left=this.clientX+"px",this.el.style.top=this.clientY+"px",console.log("MOVE",e)}}}};n("9800");s.render=a;var l=s,u=n("9b6a"),d=n("d257"),p={name:"App",components:{Drag:l},data:function(){return{isRouterAlive:!0}},mounted:function(){Object(u["a"])("*",(function(e,t){console.log("keys",e,t)})),Object(u["a"])("ctrl+r",this.refresh);var e=/pages|block|comment|about|share|user|/;Object(u["a"])("ctrl+left",(function(t){console.log("history",history),history.state.back?e.test(history.state.back)&&history.go(-1):alert("是最后")})),Object(u["a"])("ctrl+right",(function(){history.state.forward?history.go(1):alert("是最新")})),window.history&&window.history.pushState&&!e.test(document.URL)&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",this.goBack,!1)),this.init(),window.reload=this.reload,this.setReload(this.reload),Object(u["a"])("ctrl+1,ctrl+2,ctrl+3,ctrl+4,ctrl+5,ctrl+6,ctrl+7,ctrl+8,ctrl+9,ctrl+0,ctrl+-,ctrl+=",d["k"]),Object(u["a"])("ctrl+tab,ctrl+w,ctrl+e, ctrl+r,ctrl+t,ctrl+o,ctrl+p",d["k"]),Object(u["a"])("ctrl+a,ctrl+s,ctrl+d, ctrl+f, ctrl+g,ctrl+h,ctrl+j,ctrl+k,ctrl+l",d["k"]),Object(u["a"])("ctrl+z,ctrl+n",d["k"])},unmounted:function(){u["a"].unbind("ctrl+r",this.refresh),u["a"].unbind("*",this.printKey),window.removeEventListener("popstate",this.goBack,!1)},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["initPages","setReload"])),{},{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick((function(){return e.isRouterAlive=!0}))},refresh:function(e){this.$root.reload(),console.log("刷新"),e.preventDefault()},init:function(){this.initPages()},goBack:function(){},printKey:function(e,t){console.log("key=:",u["a"].getPressedKeyCodes(),e,t)}})};n("9cdc");p.render=i;var f=p,h=(n("d3b7"),n("8c4f")),b=Object(c["withScopeId"])("data-v-0cf1722f");Object(c["pushScopeId"])("data-v-0cf1722f");var g={class:"edit"},v={class:"index-wrapper"},m={class:"content-wrapper"};Object(c["popScopeId"])();var O=b((function(e,t){var n=Object(c["resolveComponent"])("Sidebar"),o=Object(c["resolveComponent"])("Content");return Object(c["openBlock"])(),Object(c["createBlock"])("div",g,[Object(c["createVNode"])("div",v,[Object(c["createVNode"])(n)]),Object(c["createVNode"])("div",m,[Object(c["createVNode"])(o)])])})),j=Object(c["withScopeId"])("data-v-f08c3b62");Object(c["pushScopeId"])("data-v-f08c3b62");var k={key:0,class:"sidebar"},w={class:"title"},y=Object(c["createVNode"])("div",{class:"content sidebar-btn"},"xion",-1),S={class:"pages-index"},N={class:"sidebar-time sidebar-btn"};Object(c["popScopeId"])();var C=j((function(e,t){var n=Object(c["resolveComponent"])("SidebarBtn");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[e.showSidebar?(Object(c["openBlock"])(),Object(c["createBlock"])("div",k,[Object(c["createVNode"])("div",w,[y,Object(c["createVNode"])("i",{class:"sidebar-btn sidebar-icon sidebar-expand el-icon-s-unfold",onClick:t[1]||(t[1]=function(){return e.onChangeShowSidebar.apply(e,arguments)})})]),Object(c["createVNode"])(n,{title:"命令",icon:"icon-icon_search"}),Object(c["createVNode"])("div",{class:"pages-index-title",onClick:t[2]||(t[2]=function(){return e.onShowNoteMsg.apply(e,arguments)})},"笔记本"),Object(c["createVNode"])("div",S,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.pageIndex,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"is-ok pages-index-item sidebar-btn",key:t.openid,style:{"text-indent":1*t.deep+"rem"},onClick:function(n){return e.toPage(t.openid)}},Object(c["toDisplayString"])(t.title),13,["onClick"])})),128)),0==e.pageIndex.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,class:"page-index-none",style:{"font-size":"0.8rem","margin-top":"0.4rem","text-align":"center"},onClick:t[3]||(t[3]=function(){return e.addPage.apply(e,arguments)})}," 没有笔记 ")):Object(c["createCommentVNode"])("",!0)]),Object(c["createVNode"])("div",N,Object(c["toDisplayString"])(e.formatTime),1)])):Object(c["createCommentVNode"])("",!0),e.showSidebar?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("i",{key:1,class:"sidebar-btn sidebar-icon sidebar-no-expand el-icon-s-fold",style:{position:"fixed"},onClick:t[4]||(t[4]=function(){return e.onChangeShowSidebar.apply(e,arguments)})}))],64)})),B={style:{display:"flex","align-items":"center",width:"100%",padding:"0.15rem 1rem"}};function x(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"sidebar-btn x-btn",onClick:t[1]||(t[1]=function(){return e.appCall.apply(e,arguments)})},[Object(c["createVNode"])("div",B,[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("i",{class:e.icon+" iconfont"},null,2)]),Object(c["createVNode"])("div",null,Object(c["toDisplayString"])(e.title),1)])])}var V={name:"SidebarBtn",props:{title:{type:String,default:"命令"},icon:{type:String,default:"icon-bucunzai"}},computed:Object(o["a"])({},Object(r["c"])(["hasV","hasIcon"])),data:function(){return{isNoIcon:!1}},mounted:function(){},methods:{appCall:function(){this.$store.getters.msg("临时放置，功能菜单")}}};V.render=x;var M=V,I={name:"Sidebar",components:{SidebarBtn:M},data:function(){return{showSidebar:!0,nowTime:1,formatTime:"",timer:""}},computed:Object(o["a"])({},Object(r["c"])(["pageIndex"])),mounted:function(){this.nowTime=(new Date).getTime(),this.onSetNowTime()},beforeUnmount:function(){""!==this.timer&&(clearInterval(this.timer),this.timer="")},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["toPage","addPage"])),{},{onChangeShowSidebar:function(){this.showSidebar=!this.showSidebar},onTimeAdd:function(){this.nowTime++,this.formatTime=Object(d["b"])(new Date)},onSetNowTime:function(){this.timer=setInterval(this.onTimeAdd,1e3)},onShowNoteMsg:function(){this.$store.getters.msg("笔记显示位置，临时不嵌套")}})};n("2288");I.render=C,I.__scopeId="data-v-f08c3b62";var P=I,E=Object(c["withScopeId"])("data-v-ab1c2240");Object(c["pushScopeId"])("data-v-ab1c2240");var T={class:"content"},R={class:"content-header"},L={class:"content-header-title"},_={class:"content-header-tools"},D={class:"content-blocks-title"},A={class:"content-blocks-title-wrapper"},F={class:"content-blocks"},H=Object(c["createVNode"])("div",{class:"page-blocks-controller-blank"},null,-1),$={key:0,class:"page-block-none"},Y=Object(c["createVNode"])("div",{class:"page-block-footer"},null,-1),J={class:"page-block-template-btn-group"},X={class:"page-block-template-btn-group"};Object(c["popScopeId"])();var z=E((function(e,t){var n=Object(c["resolveComponent"])("Block"),o=Object(c["resolveComponent"])("ContentTips"),r=Object(c["resolveComponent"])("Message"),i=Object(c["resolveComponent"])("Markdown");return Object(c["openBlock"])(),Object(c["createBlock"])("div",T,[Object(c["createVNode"])("div",R,[Object(c["createVNode"])("div",L,Object(c["toDisplayString"])(e.currentPage.title),1),Object(c["createVNode"])("div",_,[Object(c["createVNode"])("i",{class:"iconfont icon-icon_share",style:{"font-size":"1.5rem"},onClick:t[1]||(t[1]=function(){return e.onMsg.apply(e,arguments)})}),Object(c["createVNode"])("i",{class:"iconfont icon-icon_refresh",style:{"font-size":"1.5rem"},onClick:t[2]||(t[2]=function(){return e.onMsg.apply(e,arguments)})})])]),Object(c["createVNode"])("div",D,[Object(c["createVNode"])("div",A,[Object(c["createVNode"])("div",{class:"content-blocks-title-input",contenteditable:"true",textContent:e.currentPage.title,onInput:t[3]||(t[3]=function(){return e.onChangeTitle.apply(e,arguments)})},null,40,["textContent"])])]),Object(c["createVNode"])("div",F,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(e.currentBlocks,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"page-block-wrapper",key:t.openid},[H,Object(c["createVNode"])(n,{content:t},null,8,["content"]),e.isShowTips?Object(c["createVNode"])(o,{key:0}):Object(c["createCommentVNode"])("",!0)])})),128)),0==e.currentBlocks.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",$,[Object(c["createVNode"])("div",{class:"none",onClick:t[4]||(t[4]=function(){return e.addBlock.apply(e,arguments)}),title:"点击添加"},"内容不存在")])):Object(c["createCommentVNode"])("",!0)]),Y,Object(c["createVNode"])("div",J,[Object(c["createVNode"])("div",{onClick:t[5]||(t[5]=function(){return e.addBlock.apply(e,arguments)})},"添加小块"),Object(c["createVNode"])("div",{onClick:t[6]||(t[6]=function(){return e.onMsg.apply(e,arguments)})},"显示编辑"),Object(c["createVNode"])("div",{onClick:t[7]||(t[7]=function(){return e.onMsg.apply(e,arguments)})},"预览编辑"),Object(c["createVNode"])("div",{class:"is-ok",onClick:t[8]||(t[8]=function(){return e.onShowMarkdown.apply(e,arguments)})},"全局编辑"),Object(c["createVNode"])("div",{onClick:t[9]||(t[9]=function(){return e.onMsg.apply(e,arguments)})},"查看源码"),Object(c["createVNode"])("div",{onClick:t[10]||(t[10]=function(){return e.onMsg.apply(e,arguments)})},"查看信息")]),Object(c["createVNode"])("div",X,[Object(c["createVNode"])("div",{onClick:t[11]||(t[11]=function(){return e.onMsg.apply(e,arguments)})},"临时存在"),Object(c["createVNode"])("div",{class:"is-ok",onClick:t[12]||(t[12]=function(){return e.addBlock.apply(e,arguments)})},"添加内容"),Object(c["createVNode"])("div",{onClick:t[13]||(t[13]=function(){return e.onMsg.apply(e,arguments)})},"删除内容"),Object(c["createVNode"])("div",{onClick:t[14]||(t[14]=function(){return e.onMsg.apply(e,arguments)})},"添加页面"),Object(c["createVNode"])("div",{onClick:t[15]||(t[15]=function(){return e.onMsg.apply(e,arguments)})},"删除页面"),Object(c["createVNode"])("div",{onClick:t[16]||(t[16]=function(){return e.onMsg.apply(e,arguments)})},"查看页面")]),Object(c["createVNode"])(r),e.isShowMarkdown?Object(c["createVNode"])(i,{key:0,"onOn-show-markdown":e.onShowMarkdown},null,8,["onOn-show-markdown"]):Object(c["createCommentVNode"])("",!0)])})),G=Object(c["withScopeId"])("data-v-4dd72204"),U=G((function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"page-block",onClick:t[7]||(t[7]=function(t){return e.toBlock(e.content.openid)})},[Object(c["createVNode"])("textarea",{class:"page-input",wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",value:e.text,onInput:t[1]||(t[1]=function(){return e.onChangeText.apply(e,arguments)}),onFocus:t[2]||(t[2]=function(t){return e.onChangeStart(1)}),onBlur:t[3]||(t[3]=function(){return e.onChangeFinish.apply(e,arguments)})},null,40,["value"]),Object(c["createVNode"])("div",{class:"page-content",contenteditable:e.canEdit,onInput:t[4]||(t[4]=function(){return e.onChangeHtml.apply(e,arguments)}),onFocus:t[5]||(t[5]=function(t){return e.onChangeStart(2)}),onBlur:t[6]||(t[6]=function(){return e.onChangeFinish.apply(e,arguments)}),innerHTML:e.html},null,40,["contenteditable","innerHTML"])])})),q={name:"Block",props:{content:{type:Object}},data:function(){return{isFocus:0,text:"",html:"",editText:"",editHtml:"",canEdit:!0}},computed:Object(o["a"])(Object(o["a"])({},Object(r["c"])(["currentPage","currentBlock"])),{},{hash:function(){return this.content.hash}}),mounted:function(){this.onText()},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["toBlock","setBlock"])),{},{onText:function(){0===this.isFocus?(this.text=this.content.value,this.html=Object(d["j"])(this.text)):1===this.isFocus?(this.html=Object(d["j"])(this.text),this.updateBlock()):(this.text=Object(d["i"])(this.editHtml),this.updateBlock())},onChangeStart:function(e){this.isFocus=e},onChangeFinish:function(){this.isFocus=0},onChangeText:function(e){this.text=e.target.value,this.onText()},onChangeHtml:function(e){this.editHtml=e.target.innerHTML,this.onText()},updateBlock:function(){var e=this.currentBlock;e.update({value:this.text}),this.setBlock(e)}}),watch:{hash:function(e,t){this.onText()}}};n("de8b");q.render=U,q.__scopeId="data-v-4dd72204";var W=q,K={class:"header"},Q=Object(c["createTextVNode"])(" 卡片面板 "),Z={style:{"margin-left":"280px"}},ee=Object(c["createVNode"])("div",{class:"card-body"},[Object(c["createTextVNode"])(" 卡片式面板面板通常用于非白色背景色的主体内 "),Object(c["createVNode"])("br"),Object(c["createTextVNode"])("从而映衬出边框投影 ")],-1);function te(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:{tip:!0,"tip-hide":!e.isShowMsg}},[Object(c["createVNode"])("div",K,[Q,Object(c["createVNode"])("span",Z,[Object(c["createVNode"])("i",{onClick:t[1]||(t[1]=function(){return e.onCloseMsg.apply(e,arguments)})},"x")])]),ee],2)}var ne={name:"Message",data:function(){return{isShowMsg:!1}},methods:{onCloseMsg:function(){console.log("hidden"),this.isShowMsg=!this.isShowMsg}}};n("52be");ne.render=te;var oe=ne,ce=Object(c["withScopeId"])("data-v-74ac5c72");Object(c["pushScopeId"])("data-v-74ac5c72");var re={class:"content-tips"},ie=Object(c["createVNode"])("div",null,"搜索",-1),ae=Object(c["createVNode"])("div",null,"内容显示",-1),se=Object(c["createVNode"])("div",null,"复制地址",-1),le=Object(c["createVNode"])("div",null,"复制内容",-1),ue=Object(c["createVNode"])("div",null,"上方插入",-1),de=Object(c["createVNode"])("div",null,"下方插入",-1),pe=Object(c["createVNode"])("div",null,"删除",-1),fe=Object(c["createVNode"])("div",null,"编辑时间",-1);Object(c["popScopeId"])();var he=ce((function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",re,[ie,ae,se,le,ue,de,pe,fe])})),be={name:"ContentTips"};n("a8e8");be.render=he,be.__scopeId="data-v-74ac5c72";var ge=be,ve={class:"markdown-edit-header"},me={class:"markdown-edit-content"},Oe={class:"middle content-middle-left"},je={class:"content-left"},ke=Object(c["createVNode"])("div",{class:"middle content-middle"},null,-1),we={key:0,style:{"flex-grow":"1","pointer-events":"none"}},ye={class:"middle content-middle-right"},Se=Object(c["createVNode"])("div",{class:"markdown-edit-footer"},"查看信息",-1);function Ne(e,t){var n=Object(c["resolveComponent"])("Icon"),o=Object(c["resolveComponent"])("Cover");return Object(c["openBlock"])(),Object(c["createBlock"])(o,null,{default:Object(c["withCtx"])((function(){return[Object(c["createVNode"])("div",{class:"markdown-edit",style:{pointerEvents:e.isShowRight||e.isShowLeft?"auto":"none"}},[Object(c["createVNode"])("div",ve,[Object(c["createVNode"])("div",{onClick:t[1]||(t[1]=function(){return e.onShowMarkdown.apply(e,arguments)})},"关闭全屏编辑")]),Object(c["createVNode"])("div",me,[Object(c["createVNode"])("div",Oe,[e.isShowLeft?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,onClick:t[2]||(t[2]=Object(c["withModifiers"])((function(t){return e.isShowLeft=!e.isShowLeft}),["stop"]))},[Object(c["createVNode"])(n,{name:"icon-icon_arrowleft-01"})])):Object(c["createCommentVNode"])("",!0),e.isShowLeft?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:1,onClick:t[3]||(t[3]=Object(c["withModifiers"])((function(t){return e.isShowLeft=!e.isShowLeft}),["stop"]))},[Object(c["createVNode"])(n,{name:"icon-icon_arrowright"})]))]),Object(c["createVNode"])(c["Transition"],{name:"reslide-fade"},{default:Object(c["withCtx"])((function(){return[Object(c["withDirectives"])(Object(c["createVNode"])("div",je,[Object(c["createVNode"])("div",{id:"editor",onChange:t[4]||(t[4]=function(){return e.onChangeAce.apply(e,arguments)}),onClick:t[5]||(t[5]=function(t){return e.onChangeLeft(!0)})},null,32)],512),[[c["vShow"],e.isShowLeft]])]})),_:1}),ke,e.isShowRight||e.isShowLeft?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",we)),Object(c["createVNode"])(c["Transition"],{name:"slide-fade"},{default:Object(c["withCtx"])((function(){var n,o,r;return[e.isShowRight?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,class:"content-right",ref:"rightElement",style:{width:e.isShowLeft?"45%":"100%"}},[Object(c["createVNode"])("div",{class:"markdown-preview",ref:"markdown-preview",innerHTML:e.html,contenteditable:null===(n=null===(o=e.currentBlock)||void 0===o||null===(r=o.setting)||void 0===r?void 0:r.previewCanEdit)||void 0===n||n,onInput:t[6]||(t[6]=function(){return e.onChangeContent.apply(e,arguments)}),onClick:t[7]||(t[7]=function(t){return e.onChangeLeft(!1)}),onBlur:t[8]||(t[8]=function(){return e.onFinishRight.apply(e,arguments)})},null,40,["innerHTML","contenteditable"])],4)):Object(c["createCommentVNode"])("",!0)]})),_:1}),Object(c["createVNode"])("div",ye,[e.isShowRight?Object(c["createCommentVNode"])("",!0):(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:0,onClick:t[9]||(t[9]=Object(c["withModifiers"])((function(t){return e.isShowRight=!e.isShowRight}),["stop"]))},[Object(c["createVNode"])(n,{name:"icon-icon_arrowleft-01"})])),e.isShowRight?(Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:1,onClick:t[10]||(t[10]=Object(c["withModifiers"])((function(t){return e.isShowRight=!e.isShowRight}),["stop"]))},[Object(c["createVNode"])(n,{name:"icon-icon_arrowright"})])):Object(c["createCommentVNode"])("",!0)])]),Se],4)]})),_:1})}var Ce=n("6d4f"),Be=n.n(Ce),xe=n("3020"),Ve=n("cdae"),Me={name:"Markdown",components:{Cover:xe["a"],Icon:Ve["a"]},data:function(){return{isShowRight:!0,isShowLeft:!0,editor:"",code:"code",html:"",isEditLeft:!0}},computed:Object(o["a"])({},Object(r["c"])(["currentBlock"])),mounted:function(){this.$refs.rightElement,this.$refs.textarea;var e,t=Be.a.edit("editor",{minLines:10,fontSize:12,tabSize:4,readOnly:!1,highlightActiveLine:!1,value:this.code});Be.a.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"),t.getSession().setMode("ace/mode/markdown"),t.getSession().setUseWrapMode(!0),t.setShowPrintMargin(!1),this.editor=t,t.getSession().on("change",this.onChangeAce),t.setValue(null===(e=this.currentBlock)||void 0===e?void 0:e.value),t.clearSelection(),t.on("blur",this.onFinish),window&&(window.markdown=t)},methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["setBlock"])),{},{onShowRight:function(){this.isShowRight=!this.isShowRight},onChangeAce:function(){this.isEditLeft&&(this.html=Object(d["j"])(this.editor.getValue()),this.updateBlock())},onChangeContent:function(e){if(!this.isEditLeft){var t=e.target.innerHTML,n=Object(d["i"])(t);this.editor.setValue(n),this.editor.clearSelection()}},onChangeLeft:function(e){this.isEditLeft=e},onFinishRight:function(){this.updateBlock()},updateBlock:function(){var e=this.currentBlock;e.update({value:this.editor.getValue()}),this.setBlock(e)},onFinish:function(){this.isEditLeft=!1},onShowMarkdown:function(){this.$emit("on-show-markdown")}})};n("6f8f");Me.render=Ne;var Ie=Me,Pe={name:"Content",components:{Block:W,ContentTips:ge,Message:oe,Markdown:Ie},data:function(){return{isShowTips:!1,isShowMarkdown:!1,currentTips:0}},computed:Object(o["a"])({},Object(r["c"])(["currentBlocks","currentPage"])),methods:Object(o["a"])(Object(o["a"])({},Object(r["b"])(["addBlock","setPage"])),{},{onShowTips:function(){this.isShowTips=!this.isShowTips},onShowMarkdown:function(){this.isShowMarkdown=!this.isShowMarkdown,this.reload()},reload:function(){this.$forceUpdate()},onMsg:function(){alert("临时占位置")},onChangeTitle:function(e){var t=this.currentPage;t.title=e.target.innerHTML,this.setPage(t)}})};n("ffe1");Pe.render=z,Pe.__scopeId="data-v-ab1c2240";var Ee=Pe,Te={name:"Home",components:{Sidebar:P,Content:Ee},data:function(){return{}},mounted:function(){console.log("Edit.vue页面",this.$store),this.requestPages(),this.requestBlocks()},methods:Object(o["a"])({},Object(r["b"])(["requestPages","requestBlocks"]))};n("c8ae");Te.render=O,Te.__scopeId="data-v-0cf1722f";var Re=Te,Le=[{path:"/edit",name:"Edit",component:Re},{path:"/",name:"Home",component:function(){return n.e("home").then(n.bind(null,"bb51"))}},{path:"/pages/index",name:"PagesIndex",component:function(){return n.e("pagesindex").then(n.bind(null,"0363"))}},{path:"/page/:openid/blocks",name:"PageBlocks",component:function(){return n.e("pageblock").then(n.bind(null,"cac9"))}},{path:"/share/page/:openid",name:"SharePageBlocks",component:function(){return n.e("sharepageblock").then(n.bind(null,"e2c6"))}},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/*",component:Re}],_e="";""===_e&&(_e="/redding/");var De=Object(h["a"])({history:Object(h["b"])(),routes:Le}),Ae=De,Fe=(n("99af"),n("4de4"),n("7db0"),n("d81d"),n("ddb0"),n("96cf"),n("1da1")),He=n("0d59"),$e={state:{blocks:[]},getters:{},mutations:{},actions:{addBlock:function(e,t){var n=e.commit,o=e.dispatch,c=new He["a"](null!==t&&void 0!==t?t:{});n("addNote",c),o("reload",null,{root:!0})}}},Ye={state:{pages:[]},getters:{},mutations:{},actions:{addPage:function(e,t){var n=e.commit,o=e.dispatch,c=new He["e"](null!==t&&void 0!==t?t:{});n("addNote",c),o("reload",null,{root:!0})}}},Je=n("3e1e"),Xe=n("e006"),ze={pages:[],blocks:[],comments:[]},Ge={state:function(){return ze},getters:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Ye.getters),$e.getters),{},{notes:function(e){return e},getPages:function(e){return e.pages},getBlocks:function(e){return function(t){return e.blocks.filter((function(e){return e.parent===t}))}},getPage:function(e){return function(t){var n;return null!==(n=e.pages.find((function(e){return e.openid==t})))&&void 0!==n?n:{title:"未加载"}}}}),mutations:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Ye.mutations),$e.mutations),{},{updateNotes:function(e,t){if(!(t.length<=0)){var n=t[0].category;switch(n){case He["d"].Page:e.pages=t;break;case He["d"].Comment:e.comments=t;break;case He["d"].Block:e.blocks=t;break}}},updateNote:function(e,t){var n=t.category;switch(n){case He["d"].Page:e.pages=e.pages.map((function(e){return e.openid===t.openid?t:e}));break;case He["d"].Comment:e.comments=e.comments.map((function(e){return e.openid===t.openid?t:e}));break;case He["d"].Block:e.blocks=e.blocks.map((function(e){return e.openid===t.openid?t:e}));break;default:return}Xe["a"].transaction("rw",Xe["a"].notes,Object(Fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe["a"].notes.update(t.toJson(),t.toJson());case 2:case"end":return e.stop()}}),e)})))).catch((function(e){alert(e.stack||e)}))},addNote:function(e,t){var n=t.category;switch(n){case He["d"].Page:e.pages.push(t);break;case He["d"].Comment:e.comments.push(t);break;case He["d"].Block:e.blocks.push(t);break;default:return}Xe["a"].transaction("rw",Xe["a"].notes,Object(Fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe["a"].notes.add(t);case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))))},deleteNote:function(e,t){var n=t.category;switch(n){case He["d"].Page:e.pages=e.pages.filter((function(e){return e.openid!==t.openid}));break;case He["d"].Comment:e.comments=e.comments.filter((function(e){return e.openid!==t.openid}));break;case He["d"].Block:e.blocks=e.blocks.filter((function(e){return e.openid!==t.openid}));break;default:return}Xe["a"].transaction("rw",Xe["a"].notes,Object(Fe["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.update({status:Je["e"].Deleting}),Xe["a"].notes.update(t.toJson(),t.toJson());case 2:case"end":return e.stop()}}),e)}))))},clear:function(e,t){switch(t){case He["d"].Page:e.pages=[];break;case He["d"].Comment:e.pages=[];break;case He["d"].Block:e.pages=[];break}}}),actions:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Ye.actions),$e.actions),{},{initPagesFromCache:function(e){var t=e.commit,n=e.dispatch;Xe["a"].transaction("rw",Xe["a"].notes,Object(Fe["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe["a"].notes.where({category:He["d"].Page}).sortBy("created");case 2:return e.next=4,e.sent.reverse();case 4:o=e.sent,t("updateNotes",o.map((function(e){return new He["e"](e)}))),n("reload",null,{root:!0});case 7:case"end":return e.stop()}}),e)}))))},initBlocksFromCache:function(e,t){var n=e.commit,o=e.dispatch;Xe["a"].transaction("rw",Xe["a"].notes,Object(Fe["a"])(regeneratorRuntime.mark((function e(){var c,r,i,a,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}return e.next=3,Xe["a"].notes.where({category:He["d"].Block,parent:t.openid}).toArray();case 3:return c=e.sent,n("updateNotes",c.map((function(e){return new He["a"](e)}))),r=[],e.next=8,Xe["a"].notes.where({category:He["d"].Comment,parent:t.openid}).toArray();case 8:i=e.sent,r=r.concat(i),e.t0=regeneratorRuntime.keys(c);case 11:if((e.t1=e.t0()).done){e.next=19;break}return a=e.t1.value,e.next=15,Xe["a"].notes.where({category:He["d"].Comment,parent:c[a].openid}).toArray();case 15:s=e.sent,r=r.concat(s),e.next=11;break;case 19:n("updateNotes",r.map((function(e){return new He["c"](e)}))),e.next=30;break;case 22:return e.next=24,Xe["a"].notes.where({category:He["d"].Block}).toArray();case 24:return l=e.sent,n("updateNotes",l),e.next=28,Xe["a"].notes.where({category:He["d"].Comment}).toArray();case 28:u=e.sent,n("updateNotes",u);case 30:o("reload",null,{root:!0});case 31:case"end":return e.stop()}}),e)}))))},initPages:function(e,t){var n=e.dispatch;n("initPagesFromCache"),n("initBlocksFromCache")},clear:function(e,t){var n=e.commit;n("clear",t)}})},Ue={},qe={state:function(){return Ue},getters:{},mutitions:{},actions:{hook:function(e,t){var n,o;console.log("key=",null!==(n=null===t||void 0===t?void 0:t.event)&&void 0!==n?n:" no event",null!==(o=null===t||void 0===t?void 0:t.handler)&&void 0!==o?o:" no handler")}}},We={reload:function(){console.log("未定义reload")},online:!1,wpi:[],windows:[],userInfo:{name:"xion",gerder:"男"}},Ke=Object(r["a"])({state:function(){return We},getters:{wpi:function(e){return e.wpi}},mutations:{setReload:function(e,t){e.reload=t},reload:function(e,t){e.reload()}},actions:{setReload:function(e,t){var n=e.commit;n("setReload",t)},reload:function(e){var t=e.commit;t("reload")}},modules:{statistics:qe,notes:Ge}}),Qe=Ke;n("0fae"),n("02e6"),n("a89b");window&&(window.log=d["h"].log,window.clear=d["h"].clear,window.logHelper=d["h"]);var Ze=Object(c["createApp"])(f).use(Qe).use(Ae);Ze.mount("#app");var et=function(e,t){var n=Object(o["a"])({},t(e));for(var c in n)n[c]=n[c].bind(Ze);return n};window&&(window.store=Qe,window.smap={getters:function(e){return et(e,r["c"])},actions:function(e){return et(e,r["b"])},mutions:function(e){return et(e,r["d"])},state:function(e){return et(e,r["e"])}},window.Vue=c,window.app=Ze)},cdae:function(e,t,n){"use strict";var o=n("7a23");function c(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])("i",{class:e.iconfont,style:e.style},null,6)}n("b0c0"),n("a9e3");var r={name:"Icon",props:{name:{type:String},size:{type:Number,default:1.5}},data:function(){return{iconfont:"iconfont",style:""}},mounted:function(){this.iconfont=this.iconfont+" "+this.name,this.style="font-size:".concat(this.size,"rem;")}};n("e26d");r.render=c;t["a"]=r},d257:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d["debounce"]})),n.d(t,"g",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return X})),n.d(t,"c",(function(){return q})),n.d(t,"j",(function(){return Z})),n.d(t,"i",(function(){return ee})),n.d(t,"f",(function(){return te})),n.d(t,"b",(function(){return oe}));n("d3b7"),n("25f0");var o,c=n("3452"),r=n.n(c),i=(n("ac1f"),n("5319"),n("c50a")),a=n("ec26"),s=function(e){switch(e){case 1:return Object(i["a"])().replace(/-/g,"");case 4:return Object(a["a"])().replace(/-/g,"");default:break}return Object(i["a"])().replace(/-/g,"")},l=function(e){return r.a.SHA1(e).toString()},u=function(){return r.a.MD5(s(1)+s(4)).toString()};(function(e){e[e["Encrypt"]=0]="Encrypt",e[e["Decrypt"]=1]="Decrypt"})(o||(o={}));console.log("crypto.ts"),console.log("======================"),console.log(u()),console.log(u()),console.log(u()),console.log(u()),console.log(u()),console.log(u()),console.log("======================");for(var d=n("7a1a"),p=(Object(d["throttle"])(1e3,!1,(function(e){e()})),Object(d["debounce"])(1e3,!1,(function(e){e()})),n("3ca3"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),f=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=document.createElement("input"),n.type="file",n.onchange=function(e){var o=e.target.files;if(!o||!o.length)throw n=null,new Error("No files");var c=new FileReader;c.onload=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(o){var c,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=JSON.parse(null!==(c=null===(r=o.target)||void 0===r||null===(i=r.result)||void 0===i?void 0:i.toString())&&void 0!==c?c:"{}"),t(a),e.abrupt("return",a);case 6:throw e.prev=6,e.t0=e["catch"](0),new Error(e.t0);case 9:n=null;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),c.readAsText(o[0])},setTimeout((function(){n.click()}),4e3);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=(n("c975"),"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0),b={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pgup:33,pagedown:34,pgdn:34,capslock:20,pause:19,"⇪":20,",":188,".":190,"/":191,"`":192,"-":h?173:189,"=":h?61:187,";":h?59:186,"'":222,"[":219,"]":221,"\\":220},g=1;g<20;g++)b["f".concat(""+g)]=111+g;var v=function(e){e.preventDefault()},m=["assert","clear","context","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","memory","profile","profileEnd","table","time","timeEnd","timeLog","timeStamp","trace","warn"],O=function(){var e,t;((e=console).log.apply(e,arguments),0===arguments.length)&&(console.log("console.log使用方法"),console.log("基础用法，console.log(number,string,object)等等"),console.log("功能使用, 占位参数 %s字符串 %d,%i 整型, %f 浮点型"),console.log("%o 暴露对象=console.dirxml %O 树状收缩对象=console.dir"),console.log("%c 样式对应 example: "),console.log("console.log('%c大小','font-size: 30px;')"),(t=console).log.apply(t,m),console.log("%c介绍完毕","font-size:30px;color: blue;"))},j=function(){var e;(e=console).info.apply(e,arguments),0===arguments.length&&console.info("具有提示符号，其他与log同")},k=function(){var e;(e=console).debug.apply(e,arguments),0===arguments.length&&(console.log("具有提示符号，其他与log同"),console.debug("firefox"))},w=function(){var e;(e=console).warn.apply(e,arguments),0===arguments.length&&console.warn("具有提示符号，其他与log同")},y=function(){var e;(e=console).error.apply(e,arguments),0===arguments.length&&console.error("具有提示符号，其他与log同")},S=function(){var e;(e=console).assert.apply(e,arguments),0===arguments.length&&console.log("断言")},N=console.clear,C=function(){console.log("console 本身")},B=function(){var e;(e=console).count.apply(e,arguments),0===arguments.length&&console.log("计数器，参数为类别")},x=function(){var e;(e=console).countReset.apply(e,arguments),0===arguments.length&&console.log("计数器重置，参数为类别")},V=function(){var e;(e=console).dir.apply(e,arguments),0===arguments.length&&(console.dir("=log 占位符%O, 参数只有一个， 隐藏+收缩"),console.log("node环境 console.dir(object,{depth:null}}) 显示深度,null不限制，默认2"))},M=function(){var e;(e=console).dirxml.apply(e,arguments),0===arguments.length&&console.dirxml("=log 占位符%o, 参数可以多个， 显示+收缩")},I=function(){var e;(e=console).group.apply(e,arguments),0===arguments.length&&console.log("分组,参数为类别，groupEnd跳出，group为不折叠，groupCollapsed为折叠")},P=console.groupCollapsed,E=console.groupEnd,T=function(){console.log("内存为",console.memory)},R=function(){var e;(e=console).profile.apply(e,arguments),0===arguments.length&&(console.log("浏览器存在，管理CPU和profileEnd对应"),console.log("为程序调优，firefox中profile看到"))},L=function(){var e;(e=console).profileEnd.apply(e,arguments),0===arguments.length&&console.log("浏览器存在，管理CPU和profile对应")},_=function(){var e;(e=console).table.apply(e,arguments),0===arguments.length&&(console.log("显示表格数据,例："),console.log("console.table([{a:1,b:2},{a:3,b:5}]"))},D=function(){var e;(e=console).time.apply(e,arguments),0===arguments.length&&console.log("程序运行时间，timeEnd结尾")},A=function(){var e;(e=console).timeEnd.apply(e,arguments),0===arguments.length&&console.log("代码运行时间，time开始")},F=function(){var e;(e=console).timeLog.apply(e,arguments),0===arguments.length&&console.log("代码运行中，已执行时间")},H=function(){var e;(e=console).timeStamp.apply(e,arguments),0===arguments.length&&console.log("不知道是啥，但是作用是时间戳相关，timeline的某一条记录")},$=function(){var e;(e=console).trace.apply(e,arguments),0===arguments.length&&console.log("堆栈跟踪相关的调试，追踪程序运行来源")},Y=["$$","$x","dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear","getEventListeners","undebug","monitor","unmonitor","table","$0","$1","$2","$3","$4","$_","encode","decode","escape"],J=function(){var e,t="\n    $ // 简单理解就是 document.querySelector 而已。\n    $$ // 简单理解就是 document.querySelectorAll 而已。\n    $_ // 是上一个表达式的值\n    $0-$4 // 是最近5个Elements面板选中的DOM元素。\n    dir // 其实就是 console.dir\n    keys // 取对象的键名, 返回键名组成的数组\n    values // 去对象的值, 返回值组成的数组\n    monitor(函数) 监听函数，当函数执行的时候，\n    会在控制台输入函数名称及参数，unmonitor停止监听\n    inspect(object/function)在适当的面板中打开并选择指定的元素或对象\n    profile分析\n    escape 某些字符被替换成了十六进制的转义序列。\n  ";console.log(t),(e=console).log.apply(e,Y)},X={assert:S,clear:N,context:C,count:B,countReset:x,debug:k,dir:V,dirxml:M,error:y,group:I,groupCollapsed:P,groupEnd:E,info:j,log:O,memory:T,profile:R,profileEnd:L,table:_,time:D,timeEnd:A,timeLog:F,timeStamp:H,trace:$,warn:w,chromeHelper:J},z=(JSON.stringify,JSON.parse,n("b85c"),function(e,t){var n=e.attributes;return void 0!==n[t]?n[t].value:""}),G=function(e){return z(e,"style")},U=function(e){var t={};for(var n in e)"number"!==typeof e[n]&&isNaN(e[n])?t[n]=e[n]:t[n]=e[n]+"rem";return t},q=U,W=(n("99af"),n("2ca0"),n("0e54")),K=n.n(W),Q=n("8baf"),Z=function(e){return K()(e)},ee=function(e){var t=new Q["a"];t.keep(["table"]),t.addRule("strikethrough",{filter:["xion"],replacement:function(e,t){var n=G(t),o=""===n?"":' style="'.concat(n,'"');return"<xion".concat(o,">")+e}}),t.addRule("strikethrough",{filter:function(e,t){var n=e.nodeName.toLowerCase();if(n.startsWith("v"))return!0},replacement:function(e,t,n){var o=t.nodeName.toLowerCase(),c=G(t),r=""===c?"":' style="'.concat(c,'"');return"v"===o&&(r=""),"<".concat(o).concat(r,">")+e}});var n=t.turndown(e);return n},te=(n("4d63"),n("4d90"),function(){return(new Date).getTime()}),ne=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yy/mm/dd HH:MM:SS",o={"Y+":e.getFullYear().toString(),"y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var c in o)t=new RegExp("("+c+")").exec(n),t&&(n=n.replace(t[1],1==t[1].length?o[c]:o[c].padStart(t[1].length,"0")));return n},oe=ne;n("a15b"),n("d81d"),n("b64b")},de8b:function(e,t,n){"use strict";n("488e")},e006:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));n("99af"),n("b0c0");var o=n("2909"),c=(n("96cf"),n("1da1")),r=n("d4ec"),i=n("262e"),a=n("2caf"),s=n("4dec"),l=n("3e1e"),u={DB_IS_INIT:{name:"DB_IS_INIT",value:1,introduce:function(e){switch(e){default:return"IndexDB未初始"}}},DB_VERSION:{name:"DB_VERSION",value:1,introduce:function(e){switch(e){default:return"IndexDB的版本"}}},PAGES_IS_FROM_DB:{name:"PAGES_IS_FROM",value:"DB",introduce:function(e){switch(e){default:return"store数据是否来源IndexDB"}}},PAGES_IS_FROM_URL:{name:"PAGES_IS_FROM",value:"URL",introduce:function(e){switch(e){default:return"store数据是否来源请求"}}},LODDINGPAGE:{name:"LODDINGPAGE",value:"LODDINGPAGE",introduce:function(e){switch(e){default:return"页面加载中"}}}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e instanceof String)return localStorage.setItem(name,t);var n=e.name,o=e.value;return localStorage.setItem(n,o+"")},p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e instanceof String)return console.log("get string",e),null!==(t=localStorage.getItem(e))&&void 0!==t?t:n;var o=e,c=localStorage.getItem(o.name);return c||(""!==n?(d(e,n),n):(d(o),o.value))},f=function(e){Object(i["a"])(n,e);var t=Object(a["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.call(this,"NoteDB"),e.version(u.DB_VERSION.value).stores({notes:"openid,created,updated,hash,keys,title,category,type,parent"}),e.notes=e.table("notes"),console.log("version",u.DB_VERSION.value),e}return n}(s["a"]),h=new f,b=localStorage.getItem(u.DB_IS_INIT.name);b||(h.transaction("rw",h.notes,Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[].concat(Object(o["a"])(l["g"]),Object(o["a"])(l["h"])),h.notes.bulkAdd(t);case 2:case"end":return e.stop()}}),e)})))).catch((function(e){alert(e.stack||e)})),d(u.DB_IS_INIT))},e26d:function(e,t,n){"use strict";n("1ef1")},e5d3:function(e,t,n){},ffe1:function(e,t,n){"use strict";n("a981")}});
//# sourceMappingURL=app.60197ccd.js.map