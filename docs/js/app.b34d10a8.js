(function(e){function n(n){for(var r,o,s=n[0],i=n[1],d=n[2],l=0,u=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&u.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);p&&p(n);while(u.length)u.shift()();return c.push.apply(c,d||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,o=1;o<t.length;o++){var s=t[o];0!==a[s]&&(r=!1)}r&&(c.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},a={app:0},c=[];function s(e){return i.p+"js/"+({about:"about",home:"home",pageblock:"pageblock",pagesindex:"pagesindex",picture:"picture",sharepageblock:"sharepageblock"}[e]||e)+"."+{about:"fefacb56",home:"5bdc0bef",pageblock:"b3ca0c77",pagesindex:"eefd6200",picture:"0145e90f",sharepageblock:"e4e98c85"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={home:1,pageblock:1,pagesindex:1,sharepageblock:1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var r="css/"+({about:"about",home:"home",pageblock:"pageblock",pagesindex:"pagesindex",picture:"picture",sharepageblock:"sharepageblock"}[e]||e)+"."+{about:"31d6cfe0",home:"fd0d7916",pageblock:"595a6e25",pagesindex:"c3f96b8f",picture:"31d6cfe0",sharepageblock:"250903f8"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var d=c[s],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===r||l===a))return n()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){d=u[s],l=d.getAttribute("data-href");if(l===r||l===a)return n()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=n,p.onerror=function(n){var r=n&&n.target&&n.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],p.parentNode.removeChild(p),t(c)},p.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)n.push(r[2]);else{var c=new Promise((function(n,t){r=a[e]=[n,t]}));n.push(r[2]=c);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var u=new Error;d=function(n){l.onerror=l.onload=null,clearTimeout(p);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,t[1](u)}a[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=n,d=d.slice();for(var u=0;u<d.length;u++)n(d[u]);var p=l;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("cd49")},"02e6":function(e,n,t){},"0d59":function(e,n,t){"use strict";t.d(n,"d",(function(){return r["d"]})),t.d(n,"b",(function(){return r["b"]})),t.d(n,"e",(function(){return r["f"]})),t.d(n,"a",(function(){return r["a"]})),t.d(n,"c",(function(){return r["c"]}));var r=t("3e1e");t("b0c0"),t("d4ec")},1:function(e,n){},10:function(e,n){},11:function(e,n){},12:function(e,n){},13:function(e,n){},14:function(e,n){},15:function(e,n){},16:function(e,n){},"1ef1":function(e,n,t){},2:function(e,n){},2288:function(e,n,t){"use strict";t("6956")},3:function(e,n){},3020:function(e,n,t){"use strict";var r=t("7a23"),o={class:"cover",style:{"pointer-events":"none"}};function a(e,n){return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["renderSlot"])(e.$slots,"default")])}var c={name:"Cover"};t("34c5");c.render=a;n["a"]=c},"34c5":function(e,n,t){"use strict";t("6953")},"3e1e":function(e,n,t){"use strict";t.d(n,"d",(function(){return r})),t.d(n,"e",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"f",(function(){return m})),t.d(n,"a",(function(){return v})),t.d(n,"c",(function(){return j}));t("a15b"),t("d3b7"),t("25f0"),t("ddb0");var r,o,a,c,s,i,d=t("bee2"),l=t("262e"),u=t("2caf"),p=t("d4ec"),f=t("d257");(function(e){e[e["Page"]=0]="Page",e[e["Block"]=1]="Block",e[e["Comment"]=2]="Comment"})(r||(r={})),function(e){e[e["Working"]=10]="Working",e[e["Save"]=11]="Save",e[e["Add"]=12]="Add",e[e["Changing"]=13]="Changing",e[e["Deleting"]=14]="Deleting"}(o||(o={})),a||(a={}),function(e){e[e["Page"]=100]="Page",e[e["CodeFile"]=101]="CodeFile"}(c||(c={})),function(e){e[e["Attach"]=200]="Attach",e[e["Audio"]=201]="Audio",e[e["Bookmark"]=202]="Bookmark",e[e["Code"]=203]="Code",e[e["Formula"]=204]="Formula",e[e["Markdown"]=205]="Markdown",e[e["PageLink"]=206]="PageLink",e[e["Picture"]=207]="Picture",e[e["SplitLine"]=208]="SplitLine",e[e["Text"]=209]="Text",e[e["Video"]=210]="Video"}(s||(s={})),console.log(s.Markdown,s,"blocktype"),function(e){e[e["Page"]=300]="Page",e[e["Block"]=301]="Block",e[e["Comment"]=302]="Comment"}(i||(i={}));var b=function e(n){var t=n.deep,r=n.guide,o=n.hasNext,a=n.openid,c=n.parent,s=n.value;Object(p["a"])(this,e),this.deep=null!==t&&void 0!==t?t:0,this.guide=null!==r&&void 0!==r?r:0,this.hasNext=null!==o&&void 0!==o&&o,this.openid=null!==a&&void 0!==a?a:"",this.parent=null!==c&&void 0!==c?c:"",this.value=s},g=function(e){Object(l["a"])(t,e);var n=Object(u["a"])(t);function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(p["a"])(this,t),e=n.call(this,r);var a=r.category,c=r.created,s=r.hash,i=r.keys,d=r.setting,l=r.status,u=r.tags,f=r.title,b=r.type,g=r.updated;return e.category=null!==a&&void 0!==a?a:0,e.created=null!==c&&void 0!==c?c:0,e.hash=null!==s&&void 0!==s?s:"",e.keys=null!==i&&void 0!==i?i:[],e.setting=null!==d&&void 0!==d?d:"",e.status=null!==l&&void 0!==l?l:o.Working,e.tags=null!==u&&void 0!==u?u:[],e.title=null!==f&&void 0!==f?f:"",e.type=null!==b&&void 0!==b?b:0,e.updated=null!==g&&void 0!==g?g:0,e}return t}(b),h=function(e){Object(l["a"])(t,e);var n=Object(u["a"])(t);function t(e){var r;Object(p["a"])(this,t),r=n.call(this,e);var o=e.created,a=e.updated,c=e.openid;return r.openid=null!==c&&void 0!==c?c:Object(f["f"])(),r.created=null!==o&&void 0!==o?o:Object(f["g"])(),r.updated=null!==a&&void 0!==a?a:Object(f["g"])(),r}return Object(d["a"])(t,[{key:"setHash",value:function(){var e=this.copy();e.hash="",e.status=o.Working,this.hash=Object(f["e"])(e.toString())}},{key:"copy",value:function(){return new t(this.toJson())}},{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this))}},{key:"toString",value:function(){return JSON.stringify(this.toJson())}},{key:"update",value:function(e){var n=e.deep,t=e.guide,r=e.hasNext,o=e.openid,a=e.parent,c=e.value;this.deep=null!==n&&void 0!==n?n:this.deep,this.guide=null!==t&&void 0!==t?t:this.guide,this.hasNext=null!==r&&void 0!==r?r:this.hasNext,this.openid=null!==o&&void 0!==o?o:this.openid,this.parent=null!==a&&void 0!==a?a:this.parent,this.value=null!==c&&void 0!==c?c:this.value;var s=e.category,i=e.created,d=e.hash,l=e.keys,u=e.setting,p=e.status,b=e.tags,g=e.title,h=e.type,m=e.updated;return this.category=null!==s&&void 0!==s?s:this.category,this.created=null!==i&&void 0!==i?i:this.created,this.hash=null!==d&&void 0!==d?d:this.hash,this.keys=null!==l&&void 0!==l?l:this.keys,this.setting=null!==u&&void 0!==u?u:this.setting,this.status=null!==p&&void 0!==p?p:this.status,this.tags=null!==b&&void 0!==b?b:this.tags,this.title=null!==g&&void 0!==g?g:this.title,this.type=null!==h&&void 0!==h?h:this.type,this.updated=null!==m&&void 0!==m?m:Object(f["g"])(),this.setHash(),this}},{key:"updateTime",value:function(){this.status=o.Changing,this.updated=Object(f["g"])(),this.setHash()}},{key:"newOpenid",value:function(){return this.openid=Object(f["f"])(),this}}]),t}(g),m=function(e){Object(l["a"])(t,e);var n=Object(u["a"])(t);function t(e){var o;return Object(p["a"])(this,t),o=n.call(this,e),o.category=r.Page,o}return Object(d["a"])(t,[{key:"setArrHash",value:function(e){this.updateTime(),this.hash=Object(f["e"])(e.join(""))}}]),t}(h),v=function(e){Object(l["a"])(t,e);var n=Object(u["a"])(t);function t(e){var o;return Object(p["a"])(this,t),o=n.call(this,e),o.category=r.Block,o}return t}(h),j=function(e){Object(l["a"])(t,e);var n=Object(u["a"])(t);function t(e){var o;return Object(p["a"])(this,t),o=n.call(this,e),o.category=r.Comment,o}return t}(h);new m({created:1598281553555,updated:1598281553555,openid:"6aca077736553e8df3024ea2999199c5",title:"开发计划",deep:1}),new m({created:1598281553486,updated:1598281553486,openid:"21cd06577c000b6d945112a8c8c148cf",title:"redding目的",deep:1}),new v({index:0,category:"markdown",type:205,openid:"bea3dd51d32aafdb4dbd4fd9025fc3ca",parent:"6aca077736553e8df3024ea2999199c5",value:"### 数据模型\n\n```\ninterface PageDataInterface {\n  openid: string; // openid 生成\n  id?: number; // id定位\n\n  index: number; // 本地索引定位\n  guide: number; // 存放guide\n\n  key?: string; // key的值，关键字\n  tags?: Array<string>; // 标签\n  title: string; //block具有的title\n  value: any; // 值， 如果type类型为Object或者Array 则为空\n  parent?: string; // 关系openid\n  deep?: number; // 深度\n  hasNext: boolean; // 是否还有子节点\n\n  type: number | string; // 类型 page 1 block 2 comment 3\n  category?: string | number; // 分类，\n\n  hash: string; // 内容hash\n\n  share: boolean; // 是否分享\n\n  created: number;\n  updated: number;\n\n  setting: any; // 设置\n  app: number; // redding=1\n}\n```\n",hash:"2066ebaccb994ed845b1c98046ffa8a1a8edaf49",created:1598281553486,updated:1598281553486,setting:{showEdit:!0,previewCanEdit:!0}}),new v({index:0,category:"markdown",type:205,openid:"45a7da0b0d4a20da3479cbddff52e30a",parent:"21cd06577c000b6d945112a8c8c148cf",value:"## redding目的\n\n              借鉴\n              \n              - [notion](https://www.notion.so/)\n              - [wolai](www.wolai.com)\n              - [evernote](evernote.com/)\n              \n              等一系列的笔记，想来实现一个存于*浏览器*的笔记。\n              \n              目的：一切皆为自定义话的进行保存自己的笔记的内容。\n              \n              数据格式： 以节点为单位，树形为结构。\n              \n              vue + typescript + vuex\n              \n              利用一些其他的开源代码，监听键盘，管理样式  \n              ，管理函数，动态管理模块，开放化自己的数据  \n              管理层次，开放化网页的利用性。\n              \n              想以*new Function()*的形式进行在浏览器端运   \n              行代码，以至于，可以人为的自定义自己的这个网站。\n              \n              以前端来操作的东西，都一单页应用浏览器来进行   \n              操作，网页存在多姿多彩的，而思考以自定义化的   \n              方式进行保存那些网页的内容到自己的网页中，然 \n              后导出，导入。\n              \n              我想以vscode的编辑代码类型的方式来作为一个网  \n              页的笔记模块，亦或者数据模块。命令行，插件，  \n              快捷键，文件目录。而网页本身又可以做到图片，  \n              画图，3d，动画，游戏，可反馈操作，动态编辑元  \n              素，源码共享等等。\n              \n              ",hash:"2066ebaccb994ed845b1c98046ffa8a1a8edaf49",created:1598281553486,updated:1598281553486,setting:{showEdit:!0,previewCanEdit:!0}})},4:function(e,n){},4678:function(e,n,t){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc10","./be.js":"1fc10","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var n=a(e);return t(n)}function a(e){if(!t.o(r,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id="4678"},"488e":function(e,n,t){},5:function(e,n){},"52be":function(e,n,t){"use strict";t("e5d3")},"594a":function(e,n,t){},6:function(e,n){},6953:function(e,n,t){},6956:function(e,n,t){},"6f8f":function(e,n,t){"use strict";t("7f0f")},7:function(e,n){},"7f0f":function(e,n,t){},8:function(e,n){},9:function(e,n){},9800:function(e,n,t){"use strict";t("ac80")},"9cdc":function(e,n,t){"use strict";t("c701")},a89b:function(e,n,t){},a8e8:function(e,n,t){"use strict";t("594a")},a981:function(e,n,t){},ac80:function(e,n,t){},b07e:function(e,n,t){},c701:function(e,n,t){},c8ae:function(e,n,t){"use strict";t("b07e")},cd49:function(e,n,t){"use strict";t.r(n);var r=t("5530"),o=(t("e623"),t("e379"),t("5dc8"),t("37e1"),t("7a23")),a=t("5502");function c(e,n){var t=Object(o["resolveComponent"])("router-view");Object(o["resolveComponent"])("Drag");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[e.isRouterAlive?Object(o["createVNode"])(t,{key:0}):Object(o["createCommentVNode"])("",!0),Object(o["createCommentVNode"])("",!0)],64)}function s(e,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"transparent",onMousedown:n[2]||(n[2]=function(){return e.onMoveDown.apply(e,arguments)}),onMousemove:n[3]||(n[3]=function(){return e.onMove.apply(e,arguments)}),onMouseup:n[4]||(n[4]=function(n){return e.isMove=!e.isMove}),draggable:"true"},[Object(o["createVNode"])("div",{class:"drag-window",ref:"window",onClick:n[1]||(n[1]=function(){return e.onGetPos.apply(e,arguments)})}," client(X:Y): ("+Object(o["toDisplayString"])(e.clientX)+","+Object(o["toDisplayString"])(e.clientY)+") ",513)],32)}var i={name:"Drag",data:function(){return{clientX:0,clientY:0,ox:0,oy:0,isMove:!1,el:null}},mounted:function(){this.el=this.$refs.window,console.log(this.el)},methods:{onGetPos:function(e){var n=e;this.clientX=n.clientX-n.offsetX,this.clientY=n.clientY-n.offsetY,this.isMove=!this.isMove,this.ox=n.offsetX,this.oy=n.offsetY},onMoveDown:function(e){console.log(e);var n=e;this.clientX=n.clientX-n.offsetX,this.clientY=n.clientY-n.offsetY,this.isMove=!0,this.ox=n.offsetX,this.oy=n.offsetY,console.log(this.el)},onMove:function(e){if(this.isMove){var n=e;this.clientX=n.clientX-this.ox,this.clientY=n.clientY-this.oy,this.el.style.left=this.clientX+"px",this.el.style.top=this.clientY+"px",console.log("MOVE",e)}}}};t("9800");i.render=s;var d=i,l=t("9b6a"),u=t("d257"),p={name:"App",components:{Drag:d},data:function(){return{isRouterAlive:!0}},mounted:function(){Object(l["a"])("*",(function(e,n){console.log("keys",e,n)})),Object(l["a"])("ctrl+r",this.refresh);var e=/pages|block|comment|about|share|user|/;Object(l["a"])("ctrl+left",(function(n){console.log("history",history),history.state.back?e.test(history.state.back)&&history.go(-1):alert("是最后")})),Object(l["a"])("ctrl+right",(function(){history.state.forward?history.go(1):alert("是最新")})),window.history&&window.history.pushState&&!e.test(document.URL)&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",this.goBack,!1)),this.init(),window.reload=this.reload,this.setReload(this.reload),Object(l["a"])("ctrl+1,ctrl+2,ctrl+3,ctrl+4,ctrl+5,ctrl+6,ctrl+7,ctrl+8,ctrl+9,ctrl+0,ctrl+-,ctrl+=",u["l"]),Object(l["a"])("ctrl+tab,ctrl+w,ctrl+e, ctrl+r,ctrl+t,ctrl+o,ctrl+p",u["l"]),Object(l["a"])("ctrl+a,ctrl+s,ctrl+d, ctrl+f, ctrl+g,ctrl+h,ctrl+j,ctrl+k,ctrl+l",u["l"]),Object(l["a"])("ctrl+z,ctrl+n",u["l"])},unmounted:function(){l["a"].unbind("ctrl+r",this.refresh),l["a"].unbind("*",this.printKey),window.removeEventListener("popstate",this.goBack,!1)},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["initPages","setReload"])),{},{reload:function(){var e=this;this.isRouterAlive=!1,this.$nextTick((function(){return e.isRouterAlive=!0}))},refresh:function(e){this.$root.reload(),console.log("刷新"),e.preventDefault()},init:function(){this.initPages()},goBack:function(){},printKey:function(e,n){console.log("key=:",l["a"].getPressedKeyCodes(),e,n)}})};t("9cdc");p.render=c;var f=p,b=(t("d3b7"),t("8c4f")),g=Object(o["withScopeId"])("data-v-0cf1722f");Object(o["pushScopeId"])("data-v-0cf1722f");var h={class:"edit"},m={class:"index-wrapper"},v={class:"content-wrapper"};Object(o["popScopeId"])();var j=g((function(e,n){var t=Object(o["resolveComponent"])("Sidebar"),r=Object(o["resolveComponent"])("Content");return Object(o["openBlock"])(),Object(o["createBlock"])("div",h,[Object(o["createVNode"])("div",m,[Object(o["createVNode"])(t)]),Object(o["createVNode"])("div",v,[Object(o["createVNode"])(r)])])})),y=Object(o["withScopeId"])("data-v-f08c3b62");Object(o["pushScopeId"])("data-v-f08c3b62");var k={key:0,class:"sidebar"},w={class:"title"},O=Object(o["createVNode"])("div",{class:"content sidebar-btn"},"xion",-1),S={class:"pages-index"},x={class:"sidebar-time sidebar-btn"};Object(o["popScopeId"])();var N=y((function(e,n){var t=Object(o["resolveComponent"])("SidebarBtn");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[e.showSidebar?(Object(o["openBlock"])(),Object(o["createBlock"])("div",k,[Object(o["createVNode"])("div",w,[O,Object(o["createVNode"])("i",{class:"sidebar-btn sidebar-icon sidebar-expand el-icon-s-unfold",onClick:n[1]||(n[1]=function(){return e.onChangeShowSidebar.apply(e,arguments)})})]),Object(o["createVNode"])(t,{title:"命令",icon:"icon-icon_search"}),Object(o["createVNode"])("div",{class:"pages-index-title",onClick:n[2]||(n[2]=function(){return e.onShowNoteMsg.apply(e,arguments)})},"笔记本"),Object(o["createVNode"])("div",S,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.pageIndex,(function(n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"is-ok pages-index-item sidebar-btn",key:n.openid,style:{"text-indent":1*n.deep+"rem"},onClick:function(t){return e.toPage(n.openid)}},Object(o["toDisplayString"])(n.title),13,["onClick"])})),128)),0==e.pageIndex.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"page-index-none",style:{"font-size":"0.8rem","margin-top":"0.4rem","text-align":"center"},onClick:n[3]||(n[3]=function(){return e.addPage.apply(e,arguments)})}," 没有笔记 ")):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",x,Object(o["toDisplayString"])(e.formatTime),1)])):Object(o["createCommentVNode"])("",!0),e.showSidebar?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("i",{key:1,class:"sidebar-btn sidebar-icon sidebar-no-expand el-icon-s-fold",style:{position:"fixed"},onClick:n[4]||(n[4]=function(){return e.onChangeShowSidebar.apply(e,arguments)})}))],64)})),C={style:{display:"flex","align-items":"center",width:"100%",padding:"0.15rem 1rem"}};function B(e,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"sidebar-btn x-btn",onClick:n[1]||(n[1]=function(){return e.appCall.apply(e,arguments)})},[Object(o["createVNode"])("div",C,[Object(o["createVNode"])("div",null,[Object(o["createVNode"])("i",{class:e.icon+" iconfont"},null,2)]),Object(o["createVNode"])("div",null,Object(o["toDisplayString"])(e.title),1)])])}var D={name:"SidebarBtn",props:{title:{type:String,default:"命令"},icon:{type:String,default:"icon-bucunzai"}},computed:Object(r["a"])({},Object(a["c"])(["hasV","hasIcon"])),data:function(){return{isNoIcon:!1}},mounted:function(){},methods:{appCall:function(){this.$store.getters.msg("临时放置，功能菜单")}}};D.render=B;var I=D,M={name:"Sidebar",components:{SidebarBtn:I},data:function(){return{showSidebar:!0,nowTime:1,formatTime:"",timer:""}},computed:Object(r["a"])({},Object(a["c"])(["pageIndex"])),mounted:function(){this.nowTime=(new Date).getTime(),this.onSetNowTime()},beforeUnmount:function(){""!==this.timer&&(clearInterval(this.timer),this.timer="")},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["toPage","addPage"])),{},{onChangeShowSidebar:function(){this.showSidebar=!this.showSidebar},onTimeAdd:function(){this.nowTime++,this.formatTime=Object(u["b"])(new Date)},onSetNowTime:function(){this.timer=setInterval(this.onTimeAdd,1e3)},onShowNoteMsg:function(){this.$store.getters.msg("笔记显示位置，临时不嵌套")}})};t("2288");M.render=N,M.__scopeId="data-v-f08c3b62";var T=M,V=Object(o["withScopeId"])("data-v-ab1c2240");Object(o["pushScopeId"])("data-v-ab1c2240");var E={class:"content"},J={class:"content-header"},A={class:"content-header-title"},P={class:"content-header-tools"},L={class:"content-blocks-title"},F={class:"content-blocks-title-wrapper"},U={class:"content-blocks"},R=Object(o["createVNode"])("div",{class:"page-blocks-controller-blank"},null,-1),_={key:0,class:"page-block-none"},z=Object(o["createVNode"])("div",{class:"page-block-footer"},null,-1),H={class:"page-block-template-btn-group"},$={class:"page-block-template-btn-group"};Object(o["popScopeId"])();var q=V((function(e,n){var t=Object(o["resolveComponent"])("Block"),r=Object(o["resolveComponent"])("ContentTips"),a=Object(o["resolveComponent"])("Message"),c=Object(o["resolveComponent"])("Markdown");return Object(o["openBlock"])(),Object(o["createBlock"])("div",E,[Object(o["createVNode"])("div",J,[Object(o["createVNode"])("div",A,Object(o["toDisplayString"])(e.currentPage.title),1),Object(o["createVNode"])("div",P,[Object(o["createVNode"])("i",{class:"iconfont icon-icon_share",style:{"font-size":"1.5rem"},onClick:n[1]||(n[1]=function(){return e.onMsg.apply(e,arguments)})}),Object(o["createVNode"])("i",{class:"iconfont icon-icon_refresh",style:{"font-size":"1.5rem"},onClick:n[2]||(n[2]=function(){return e.onMsg.apply(e,arguments)})})])]),Object(o["createVNode"])("div",L,[Object(o["createVNode"])("div",F,[Object(o["createVNode"])("div",{class:"content-blocks-title-input",contenteditable:"true",textContent:e.currentPage.title,onInput:n[3]||(n[3]=function(){return e.onChangeTitle.apply(e,arguments)})},null,40,["textContent"])])]),Object(o["createVNode"])("div",U,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.currentBlocks,(function(n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"page-block-wrapper",key:n.openid},[R,Object(o["createVNode"])(t,{content:n},null,8,["content"]),e.isShowTips?Object(o["createVNode"])(r,{key:0}):Object(o["createCommentVNode"])("",!0)])})),128)),0==e.currentBlocks.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",_,[Object(o["createVNode"])("div",{class:"none",onClick:n[4]||(n[4]=function(){return e.addBlock.apply(e,arguments)}),title:"点击添加"},"内容不存在")])):Object(o["createCommentVNode"])("",!0)]),z,Object(o["createVNode"])("div",H,[Object(o["createVNode"])("div",{onClick:n[5]||(n[5]=function(){return e.addBlock.apply(e,arguments)})},"添加小块"),Object(o["createVNode"])("div",{onClick:n[6]||(n[6]=function(){return e.onMsg.apply(e,arguments)})},"显示编辑"),Object(o["createVNode"])("div",{onClick:n[7]||(n[7]=function(){return e.onMsg.apply(e,arguments)})},"预览编辑"),Object(o["createVNode"])("div",{class:"is-ok",onClick:n[8]||(n[8]=function(){return e.onShowMarkdown.apply(e,arguments)})},"全局编辑"),Object(o["createVNode"])("div",{onClick:n[9]||(n[9]=function(){return e.onMsg.apply(e,arguments)})},"查看源码"),Object(o["createVNode"])("div",{onClick:n[10]||(n[10]=function(){return e.onMsg.apply(e,arguments)})},"查看信息")]),Object(o["createVNode"])("div",$,[Object(o["createVNode"])("div",{onClick:n[11]||(n[11]=function(){return e.onMsg.apply(e,arguments)})},"临时存在"),Object(o["createVNode"])("div",{class:"is-ok",onClick:n[12]||(n[12]=function(){return e.addBlock.apply(e,arguments)})},"添加内容"),Object(o["createVNode"])("div",{onClick:n[13]||(n[13]=function(){return e.onMsg.apply(e,arguments)})},"删除内容"),Object(o["createVNode"])("div",{onClick:n[14]||(n[14]=function(){return e.onMsg.apply(e,arguments)})},"添加页面"),Object(o["createVNode"])("div",{onClick:n[15]||(n[15]=function(){return e.onMsg.apply(e,arguments)})},"删除页面"),Object(o["createVNode"])("div",{onClick:n[16]||(n[16]=function(){return e.onMsg.apply(e,arguments)})},"查看页面")]),Object(o["createVNode"])(a),e.isShowMarkdown?Object(o["createVNode"])(c,{key:0,"onOn-show-markdown":e.onShowMarkdown},null,8,["onOn-show-markdown"]):Object(o["createCommentVNode"])("",!0)])})),Y=Object(o["withScopeId"])("data-v-4dd72204"),K=Y((function(e,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:"page-block",onClick:n[7]||(n[7]=function(n){return e.toBlock(e.content.openid)})},[Object(o["createVNode"])("textarea",{class:"page-input",wrap:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",value:e.text,onInput:n[1]||(n[1]=function(){return e.onChangeText.apply(e,arguments)}),onFocus:n[2]||(n[2]=function(n){return e.onChangeStart(1)}),onBlur:n[3]||(n[3]=function(){return e.onChangeFinish.apply(e,arguments)})},null,40,["value"]),Object(o["createVNode"])("div",{class:"page-content",contenteditable:e.canEdit,onInput:n[4]||(n[4]=function(){return e.onChangeHtml.apply(e,arguments)}),onFocus:n[5]||(n[5]=function(n){return e.onChangeStart(2)}),onBlur:n[6]||(n[6]=function(){return e.onChangeFinish.apply(e,arguments)}),innerHTML:e.html},null,40,["contenteditable","innerHTML"])])})),G={name:"Block",props:{content:{type:Object}},data:function(){return{isFocus:0,text:"",html:"",editText:"",editHtml:"",canEdit:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(a["c"])(["currentPage","currentBlock"])),{},{hash:function(){return this.content.hash}}),mounted:function(){this.onText()},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["toBlock","setBlock"])),{},{onText:function(){0===this.isFocus?(this.text=this.content.value,this.html=Object(u["k"])(this.text)):1===this.isFocus?(this.html=Object(u["k"])(this.text),this.updateBlock()):(this.text=Object(u["j"])(this.editHtml),this.updateBlock())},onChangeStart:function(e){this.isFocus=e},onChangeFinish:function(){this.isFocus=0},onChangeText:function(e){this.text=e.target.value,this.onText()},onChangeHtml:function(e){this.editHtml=e.target.innerHTML,this.onText()},updateBlock:function(){var e=this.currentBlock;e.update({value:this.text}),this.setBlock(e)}}),watch:{hash:function(e,n){this.onText()}}};t("de8b");G.render=K,G.__scopeId="data-v-4dd72204";var X=G,W={class:"header"},Q=Object(o["createTextVNode"])(" 卡片面板 "),Z={style:{"margin-left":"280px"}},ee=Object(o["createVNode"])("div",{class:"card-body"},[Object(o["createTextVNode"])(" 卡片式面板面板通常用于非白色背景色的主体内 "),Object(o["createVNode"])("br"),Object(o["createTextVNode"])("从而映衬出边框投影 ")],-1);function ne(e,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:{tip:!0,"tip-hide":!e.isShowMsg}},[Object(o["createVNode"])("div",W,[Q,Object(o["createVNode"])("span",Z,[Object(o["createVNode"])("i",{onClick:n[1]||(n[1]=function(){return e.onCloseMsg.apply(e,arguments)})},"x")])]),ee],2)}var te={name:"Message",data:function(){return{isShowMsg:!1}},methods:{onCloseMsg:function(){console.log("hidden"),this.isShowMsg=!this.isShowMsg}}};t("52be");te.render=ne;var re=te,oe=Object(o["withScopeId"])("data-v-74ac5c72");Object(o["pushScopeId"])("data-v-74ac5c72");var ae={class:"content-tips"},ce=Object(o["createVNode"])("div",null,"搜索",-1),se=Object(o["createVNode"])("div",null,"内容显示",-1),ie=Object(o["createVNode"])("div",null,"复制地址",-1),de=Object(o["createVNode"])("div",null,"复制内容",-1),le=Object(o["createVNode"])("div",null,"上方插入",-1),ue=Object(o["createVNode"])("div",null,"下方插入",-1),pe=Object(o["createVNode"])("div",null,"删除",-1),fe=Object(o["createVNode"])("div",null,"编辑时间",-1);Object(o["popScopeId"])();var be=oe((function(e,n){return Object(o["openBlock"])(),Object(o["createBlock"])("div",ae,[ce,se,ie,de,le,ue,pe,fe])})),ge={name:"ContentTips"};t("a8e8");ge.render=be,ge.__scopeId="data-v-74ac5c72";var he=ge,me={class:"markdown-edit-header"},ve={class:"markdown-edit-content"},je={class:"middle content-middle-left"},ye={class:"content-left"},ke=Object(o["createVNode"])("div",{class:"middle content-middle"},null,-1),we={key:0,style:{"flex-grow":"1","pointer-events":"none"}},Oe={class:"middle content-middle-right"},Se=Object(o["createVNode"])("div",{class:"markdown-edit-footer"},"查看信息",-1);function xe(e,n){var t=Object(o["resolveComponent"])("Icon"),r=Object(o["resolveComponent"])("Cover");return Object(o["openBlock"])(),Object(o["createBlock"])(r,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",{class:"markdown-edit",style:{pointerEvents:e.isShowRight||e.isShowLeft?"auto":"none"}},[Object(o["createVNode"])("div",me,[Object(o["createVNode"])("div",{onClick:n[1]||(n[1]=function(){return e.onShowMarkdown.apply(e,arguments)})},"关闭全屏编辑")]),Object(o["createVNode"])("div",ve,[Object(o["createVNode"])("div",je,[e.isShowLeft?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,onClick:n[2]||(n[2]=Object(o["withModifiers"])((function(n){return e.isShowLeft=!e.isShowLeft}),["stop"]))},[Object(o["createVNode"])(t,{name:"icon-icon_arrowleft-01"})])):Object(o["createCommentVNode"])("",!0),e.isShowLeft?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,onClick:n[3]||(n[3]=Object(o["withModifiers"])((function(n){return e.isShowLeft=!e.isShowLeft}),["stop"]))},[Object(o["createVNode"])(t,{name:"icon-icon_arrowright"})]))]),Object(o["createVNode"])(o["Transition"],{name:"reslide-fade"},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("div",ye,[Object(o["createVNode"])("div",{id:"editor",onChange:n[4]||(n[4]=function(){return e.onChangeAce.apply(e,arguments)}),onClick:n[5]||(n[5]=function(n){return e.onChangeLeft(!0)})},null,32)],512),[[o["vShow"],e.isShowLeft]])]})),_:1}),ke,e.isShowRight||e.isShowLeft?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",we)),Object(o["createVNode"])(o["Transition"],{name:"slide-fade"},{default:Object(o["withCtx"])((function(){var t,r,a;return[e.isShowRight?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:"content-right",ref:"rightElement",style:{width:e.isShowLeft?"45%":"100%"}},[Object(o["createVNode"])("div",{class:"markdown-preview",ref:"markdown-preview",innerHTML:e.html,contenteditable:null===(t=null===(r=e.currentBlock)||void 0===r||null===(a=r.setting)||void 0===a?void 0:a.previewCanEdit)||void 0===t||t,onInput:n[6]||(n[6]=function(){return e.onChangeContent.apply(e,arguments)}),onClick:n[7]||(n[7]=function(n){return e.onChangeLeft(!1)}),onBlur:n[8]||(n[8]=function(){return e.onFinishRight.apply(e,arguments)})},null,40,["innerHTML","contenteditable"])],4)):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])("div",Oe,[e.isShowRight?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,onClick:n[9]||(n[9]=Object(o["withModifiers"])((function(n){return e.isShowRight=!e.isShowRight}),["stop"]))},[Object(o["createVNode"])(t,{name:"icon-icon_arrowleft-01"})])),e.isShowRight?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,onClick:n[10]||(n[10]=Object(o["withModifiers"])((function(n){return e.isShowRight=!e.isShowRight}),["stop"]))},[Object(o["createVNode"])(t,{name:"icon-icon_arrowright"})])):Object(o["createCommentVNode"])("",!0)])]),Se],4)]})),_:1})}var Ne=t("6d4f"),Ce=t.n(Ne),Be=t("3020"),De=t("cdae"),Ie={name:"Markdown",components:{Cover:Be["a"],Icon:De["a"]},data:function(){return{isShowRight:!0,isShowLeft:!0,editor:"",code:"code",html:"",isEditLeft:!0}},computed:Object(r["a"])({},Object(a["c"])(["currentBlock"])),mounted:function(){this.$refs.rightElement,this.$refs.textarea;var e,n=Ce.a.edit("editor",{minLines:10,fontSize:12,tabSize:4,readOnly:!1,highlightActiveLine:!1,value:this.code});Ce.a.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"),n.getSession().setMode("ace/mode/markdown"),n.getSession().setUseWrapMode(!0),n.setShowPrintMargin(!1),this.editor=n,n.getSession().on("change",this.onChangeAce),n.setValue(null===(e=this.currentBlock)||void 0===e?void 0:e.value),n.clearSelection(),n.on("blur",this.onFinish),window&&(window.markdown=n)},methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["setBlock"])),{},{onShowRight:function(){this.isShowRight=!this.isShowRight},onChangeAce:function(){this.isEditLeft&&(this.html=Object(u["k"])(this.editor.getValue()),this.updateBlock())},onChangeContent:function(e){if(!this.isEditLeft){var n=e.target.innerHTML,t=Object(u["j"])(n);this.editor.setValue(t),this.editor.clearSelection()}},onChangeLeft:function(e){this.isEditLeft=e},onFinishRight:function(){this.updateBlock()},updateBlock:function(){var e=this.currentBlock;e.update({value:this.editor.getValue()}),this.setBlock(e)},onFinish:function(){this.isEditLeft=!1},onShowMarkdown:function(){this.$emit("on-show-markdown")}})};t("6f8f");Ie.render=xe;var Me=Ie,Te={name:"Content",components:{Block:X,ContentTips:he,Message:re,Markdown:Me},data:function(){return{isShowTips:!1,isShowMarkdown:!1,currentTips:0}},computed:Object(r["a"])({},Object(a["c"])(["currentBlocks","currentPage"])),methods:Object(r["a"])(Object(r["a"])({},Object(a["b"])(["addBlock","setPage"])),{},{onShowTips:function(){this.isShowTips=!this.isShowTips},onShowMarkdown:function(){this.isShowMarkdown=!this.isShowMarkdown,this.reload()},reload:function(){this.$forceUpdate()},onMsg:function(){alert("临时占位置")},onChangeTitle:function(e){var n=this.currentPage;n.title=e.target.innerHTML,this.setPage(n)}})};t("ffe1");Te.render=q,Te.__scopeId="data-v-ab1c2240";var Ve=Te,Ee={name:"Home",components:{Sidebar:T,Content:Ve},data:function(){return{}},mounted:function(){console.log("Edit.vue页面",this.$store),this.requestPages(),this.requestBlocks()},methods:Object(r["a"])({},Object(a["b"])(["requestPages","requestBlocks"]))};t("c8ae");Ee.render=j,Ee.__scopeId="data-v-0cf1722f";var Je=Ee,Ae=[{path:"/edit",name:"Edit",component:Je},{path:"/home",name:"Home",component:function(){return t.e("home").then(t.bind(null,"bb51"))}},{path:"/",name:"PagesIndex",component:function(){return t.e("pagesindex").then(t.bind(null,"0363"))}},{path:"/page/:openid/blocks",name:"PageBlocks",component:function(){return t.e("pageblock").then(t.bind(null,"cac9"))}},{path:"/share/page/:openid",name:"SharePageBlocks",component:function(){return t.e("sharepageblock").then(t.bind(null,"e2c6"))}},{path:"/about",name:"About",component:function(){return t.e("about").then(t.bind(null,"f820"))}},{path:"/picture",name:"Picture",component:function(){return t.e("picture").then(t.bind(null,"f80d"))}},{path:"/*",component:Je}],Pe="";""===Pe&&(Pe="/redding/");var Le=Object(b["a"])({history:Object(b["b"])(),routes:Ae}),Fe=Le,Ue=(t("99af"),t("4de4"),t("7db0"),t("d81d"),t("ddb0"),t("96cf"),t("1da1")),Re=t("0d59"),_e={state:{blocks:[]},getters:{},mutations:{},actions:{addBlock:function(e,n){var t=e.commit,r=e.dispatch,o=new Re["a"](null!==n&&void 0!==n?n:{});t("addNote",o),r("reload",null,{root:!0})}}},ze={state:{pages:[]},getters:{},mutations:{},actions:{addPage:function(e,n){var t=e.commit,r=e.dispatch,o=new Re["e"](null!==n&&void 0!==n?n:{});t("addNote",o),r("reload",null,{root:!0})}}},He=t("3e1e"),$e=t("e006"),qe={pages:[],blocks:[],comments:[]},Ye={state:function(){return qe},getters:Object(r["a"])(Object(r["a"])(Object(r["a"])({},ze.getters),_e.getters),{},{notes:function(e){return e},getPages:function(e){return e.pages},getBlocks:function(e){return function(n){return e.blocks.filter((function(e){return e.parent===n}))}},getPage:function(e){return function(n){var t;return null!==(t=e.pages.find((function(e){return e.openid==n})))&&void 0!==t?t:{title:"未加载"}}}}),mutations:Object(r["a"])(Object(r["a"])(Object(r["a"])({},ze.mutations),_e.mutations),{},{updateNotes:function(e,n){if(!(n.length<=0)){var t=n[0].category;switch(t){case Re["d"].Page:e.pages=n;break;case Re["d"].Comment:e.comments=n;break;case Re["d"].Block:e.blocks=n;break}}},updateNote:function(e,n){var t=n.category;switch(t){case Re["d"].Page:e.pages=e.pages.map((function(e){return e.openid===n.openid?n:e}));break;case Re["d"].Comment:e.comments=e.comments.map((function(e){return e.openid===n.openid?n:e}));break;case Re["d"].Block:e.blocks=e.blocks.map((function(e){return e.openid===n.openid?n:e}));break;default:return}$e["a"].transaction("rw",$e["a"].notes,Object(Ue["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e["a"].notes.update(n.toJson(),n.toJson());case 2:case"end":return e.stop()}}),e)})))).catch((function(e){alert(e.stack||e)}))},addNote:function(e,n){var t=n.category;switch(t){case Re["d"].Page:e.pages.push(n);break;case Re["d"].Comment:e.comments.push(n);break;case Re["d"].Block:e.blocks.push(n);break;default:return}$e["a"].transaction("rw",$e["a"].notes,Object(Ue["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e["a"].notes.add(n);case 2:e.sent;case 3:case"end":return e.stop()}}),e)}))))},deleteNote:function(e,n){var t=n.category;switch(t){case Re["d"].Page:e.pages=e.pages.filter((function(e){return e.openid!==n.openid}));break;case Re["d"].Comment:e.comments=e.comments.filter((function(e){return e.openid!==n.openid}));break;case Re["d"].Block:e.blocks=e.blocks.filter((function(e){return e.openid!==n.openid}));break;default:return}$e["a"].transaction("rw",$e["a"].notes,Object(Ue["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n.update({status:He["e"].Deleting}),$e["a"].notes.update(n.toJson(),n.toJson());case 2:case"end":return e.stop()}}),e)}))))},clear:function(e,n){switch(n){case Re["d"].Page:e.pages=[];break;case Re["d"].Comment:e.pages=[];break;case Re["d"].Block:e.pages=[];break}}}),actions:Object(r["a"])(Object(r["a"])(Object(r["a"])({},ze.actions),_e.actions),{},{initPagesFromCache:function(e){var n=e.commit,t=e.dispatch;$e["a"].transaction("rw",$e["a"].notes,Object(Ue["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,$e["a"].notes.where({category:Re["d"].Page}).sortBy("created");case 2:return e.next=4,e.sent.reverse();case 4:r=e.sent,n("updateNotes",r.map((function(e){return new Re["e"](e)}))),t("reload",null,{root:!0});case 7:case"end":return e.stop()}}),e)}))))},initBlocksFromCache:function(e,n){var t=e.commit,r=e.dispatch;$e["a"].transaction("rw",$e["a"].notes,Object(Ue["a"])(regeneratorRuntime.mark((function e(){var o,a,c,s,i,d,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=22;break}return e.next=3,$e["a"].notes.where({category:Re["d"].Block,parent:n.openid}).toArray();case 3:return o=e.sent,t("updateNotes",o.map((function(e){return new Re["a"](e)}))),a=[],e.next=8,$e["a"].notes.where({category:Re["d"].Comment,parent:n.openid}).toArray();case 8:c=e.sent,a=a.concat(c),e.t0=regeneratorRuntime.keys(o);case 11:if((e.t1=e.t0()).done){e.next=19;break}return s=e.t1.value,e.next=15,$e["a"].notes.where({category:Re["d"].Comment,parent:o[s].openid}).toArray();case 15:i=e.sent,a=a.concat(i),e.next=11;break;case 19:t("updateNotes",a.map((function(e){return new Re["c"](e)}))),e.next=30;break;case 22:return e.next=24,$e["a"].notes.where({category:Re["d"].Block}).sortBy("created");case 24:return d=e.sent,t("updateNotes",d),e.next=28,$e["a"].notes.where({category:Re["d"].Comment}).toArray();case 28:l=e.sent,t("updateNotes",l);case 30:r("reload",null,{root:!0});case 31:case"end":return e.stop()}}),e)}))))},initPages:function(e,n){var t=e.dispatch;t("initPagesFromCache"),t("initBlocksFromCache")},clear:function(e,n){var t=e.commit;t("clear",n)}})},Ke={},Ge={state:function(){return Ke},getters:{},mutitions:{},actions:{hook:function(e,n){var t,r;console.log("key=",null!==(t=null===n||void 0===n?void 0:n.event)&&void 0!==t?t:" no event",null!==(r=null===n||void 0===n?void 0:n.handler)&&void 0!==r?r:" no handler")}}},Xe={reload:function(){console.log("未定义reload")},online:!1,wpi:[],windows:[],userInfo:{name:"xion",gerder:"男"}},We=Object(a["a"])({state:function(){return Xe},getters:{wpi:function(e){return e.wpi}},mutations:{setReload:function(e,n){e.reload=n},reload:function(e,n){e.reload()}},actions:{setReload:function(e,n){var t=e.commit;t("setReload",n)},reload:function(e){var n=e.commit;n("reload")}},modules:{statistics:Ge,notes:Ye}}),Qe=We,Ze=(t("0fae"),t("02e6"),t("a89b"),t("d148")),en=Ze["a"].init({env:"abear2-198d4c"});en.auth({persistence:"local"});window&&(window.log=u["i"].log,window.clear=u["i"].clear,window.logHelper=u["i"]);var nn=Object(o["createApp"])(f).use(Qe).use(Fe);nn.mount("#app");var tn=function(e,n){var t=Object(r["a"])({},n(e));for(var o in t)t[o]=t[o].bind(nn);return t};window&&(window.store=Qe,window.smap={getters:function(e){return tn(e,a["c"])},actions:function(e){return tn(e,a["b"])},mutions:function(e){return tn(e,a["d"])},state:function(e){return tn(e,a["e"])}},window.Vue=o,window.app=nn)},cdae:function(e,n,t){"use strict";var r=t("7a23");function o(e,n){return Object(r["openBlock"])(),Object(r["createBlock"])("i",{class:e.iconfont,style:e.style},null,6)}t("b0c0"),t("a9e3");var a={name:"Icon",props:{name:{type:String},size:{type:Number,default:1.5}},data:function(){return{iconfont:"iconfont",style:""}},mounted:function(){this.iconfont=this.iconfont+" "+this.name,this.style="font-size:".concat(this.size,"rem;")}};t("e26d");a.render=o;n["a"]=a},d257:function(e,n,t){"use strict";t.d(n,"e",(function(){return d})),t.d(n,"f",(function(){return l})),t.d(n,"a",(function(){return u["debounce"]})),t.d(n,"c",(function(){return b})),t.d(n,"h",(function(){return g})),t.d(n,"l",(function(){return j})),t.d(n,"i",(function(){return Y})),t.d(n,"d",(function(){return W})),t.d(n,"k",(function(){return ne})),t.d(n,"j",(function(){return te})),t.d(n,"g",(function(){return re})),t.d(n,"b",(function(){return ae}));t("d3b7"),t("25f0");var r,o=t("3452"),a=t.n(o),c=(t("ac1f"),t("5319"),t("c50a")),s=t("ec26"),i=function(e){switch(e){case 1:return Object(c["a"])().replace(/-/g,"");case 4:return Object(s["a"])().replace(/-/g,"");default:break}return Object(c["a"])().replace(/-/g,"")},d=function(e){return a.a.SHA1(e).toString()},l=function(){return a.a.MD5(i(1)+i(4)).toString()};(function(e){e[e["Encrypt"]=0]="Encrypt",e[e["Decrypt"]=1]="Decrypt"})(r||(r={}));console.log("crypto.ts"),console.log("======================"),console.log(l()),console.log(l()),console.log(l()),console.log(l()),console.log(l()),console.log(l()),console.log("======================");for(var u=t("7a1a"),p=(Object(u["throttle"])(1e3,!1,(function(e){e()})),Object(u["debounce"])(1e3,!1,(function(e){e()})),t("3ca3"),t("ddb0"),t("2b3d"),t("96cf"),t("1da1")),f=function(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n)},b=function(e,n){var t=window.URL||window.webkitURL||window,r=new Blob([n]),o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=t.createObjectURL(r),o.download=e,f(o)},g=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=document.createElement("input"),t.type="file",t.onchange=function(e){var r=e.target.files;if(!r||!r.length)throw t=null,new Error("No files");var o=new FileReader;o.onload=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(r){var o,a,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.parse(null!==(o=null===(a=r.target)||void 0===a||null===(c=a.result)||void 0===c?void 0:c.toString())&&void 0!==o?o:"{}"),n(s),e.abrupt("return",s);case 6:throw e.prev=6,e.t0=e["catch"](0),new Error(e.t0);case 9:t=null;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),o.readAsText(r[0])},setTimeout((function(){t.click()}),4e3);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=(t("c975"),"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0),m={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pgup:33,pagedown:34,pgdn:34,capslock:20,pause:19,"⇪":20,",":188,".":190,"/":191,"`":192,"-":h?173:189,"=":h?61:187,";":h?59:186,"'":222,"[":219,"]":221,"\\":220},v=1;v<20;v++)m["f".concat(""+v)]=111+v;var j=function(e){e.preventDefault()},y=["assert","clear","context","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","memory","profile","profileEnd","table","time","timeEnd","timeLog","timeStamp","trace","warn"],k=function(){var e,n;((e=console).log.apply(e,arguments),0===arguments.length)&&(console.log("console.log使用方法"),console.log("基础用法，console.log(number,string,object)等等"),console.log("功能使用, 占位参数 %s字符串 %d,%i 整型, %f 浮点型"),console.log("%o 暴露对象=console.dirxml %O 树状收缩对象=console.dir"),console.log("%c 样式对应 example: "),console.log("console.log('%c大小','font-size: 30px;')"),(n=console).log.apply(n,y),console.log("%c介绍完毕","font-size:30px;color: blue;"))},w=function(){var e;(e=console).info.apply(e,arguments),0===arguments.length&&console.info("具有提示符号，其他与log同")},O=function(){var e;(e=console).debug.apply(e,arguments),0===arguments.length&&(console.log("具有提示符号，其他与log同"),console.debug("firefox"))},S=function(){var e;(e=console).warn.apply(e,arguments),0===arguments.length&&console.warn("具有提示符号，其他与log同")},x=function(){var e;(e=console).error.apply(e,arguments),0===arguments.length&&console.error("具有提示符号，其他与log同")},N=function(){var e;(e=console).assert.apply(e,arguments),0===arguments.length&&console.log("断言")},C=console.clear,B=function(){console.log("console 本身")},D=function(){var e;(e=console).count.apply(e,arguments),0===arguments.length&&console.log("计数器，参数为类别")},I=function(){var e;(e=console).countReset.apply(e,arguments),0===arguments.length&&console.log("计数器重置，参数为类别")},M=function(){var e;(e=console).dir.apply(e,arguments),0===arguments.length&&(console.dir("=log 占位符%O, 参数只有一个， 隐藏+收缩"),console.log("node环境 console.dir(object,{depth:null}}) 显示深度,null不限制，默认2"))},T=function(){var e;(e=console).dirxml.apply(e,arguments),0===arguments.length&&console.dirxml("=log 占位符%o, 参数可以多个， 显示+收缩")},V=function(){var e;(e=console).group.apply(e,arguments),0===arguments.length&&console.log("分组,参数为类别，groupEnd跳出，group为不折叠，groupCollapsed为折叠")},E=console.groupCollapsed,J=console.groupEnd,A=function(){console.log("内存为",console.memory)},P=function(){var e;(e=console).profile.apply(e,arguments),0===arguments.length&&(console.log("浏览器存在，管理CPU和profileEnd对应"),console.log("为程序调优，firefox中profile看到"))},L=function(){var e;(e=console).profileEnd.apply(e,arguments),0===arguments.length&&console.log("浏览器存在，管理CPU和profile对应")},F=function(){var e;(e=console).table.apply(e,arguments),0===arguments.length&&(console.log("显示表格数据,例："),console.log("console.table([{a:1,b:2},{a:3,b:5}]"))},U=function(){var e;(e=console).time.apply(e,arguments),0===arguments.length&&console.log("程序运行时间，timeEnd结尾")},R=function(){var e;(e=console).timeEnd.apply(e,arguments),0===arguments.length&&console.log("代码运行时间，time开始")},_=function(){var e;(e=console).timeLog.apply(e,arguments),0===arguments.length&&console.log("代码运行中，已执行时间")},z=function(){var e;(e=console).timeStamp.apply(e,arguments),0===arguments.length&&console.log("不知道是啥，但是作用是时间戳相关，timeline的某一条记录")},H=function(){var e;(e=console).trace.apply(e,arguments),0===arguments.length&&console.log("堆栈跟踪相关的调试，追踪程序运行来源")},$=["$$","$x","dir","dirxml","keys","values","profile","profileEnd","monitorEvents","unmonitorEvents","inspect","copy","clear","getEventListeners","undebug","monitor","unmonitor","table","$0","$1","$2","$3","$4","$_","encode","decode","escape"],q=function(){var e,n="\n    $ // 简单理解就是 document.querySelector 而已。\n    $$ // 简单理解就是 document.querySelectorAll 而已。\n    $_ // 是上一个表达式的值\n    $0-$4 // 是最近5个Elements面板选中的DOM元素。\n    dir // 其实就是 console.dir\n    keys // 取对象的键名, 返回键名组成的数组\n    values // 去对象的值, 返回值组成的数组\n    monitor(函数) 监听函数，当函数执行的时候，\n    会在控制台输入函数名称及参数，unmonitor停止监听\n    inspect(object/function)在适当的面板中打开并选择指定的元素或对象\n    profile分析\n    escape 某些字符被替换成了十六进制的转义序列。\n  ";console.log(n),(e=console).log.apply(e,$)},Y={assert:N,clear:C,context:B,count:D,countReset:I,debug:O,dir:M,dirxml:T,error:x,group:V,groupCollapsed:E,groupEnd:J,info:w,log:k,memory:A,profile:P,profileEnd:L,table:F,time:U,timeEnd:R,timeLog:_,timeStamp:z,trace:H,warn:S,chromeHelper:q},K=(JSON.stringify,JSON.parse,t("b85c"),function(e,n){var t=e.attributes;return void 0!==t[n]?t[n].value:""}),G=function(e){return K(e,"style")},X=function(e){var n={};for(var t in e)"number"!==typeof e[t]&&isNaN(e[t])?n[t]=e[t]:n[t]=e[t]+"rem";return n},W=X,Q=(t("99af"),t("2ca0"),t("0e54")),Z=t.n(Q),ee=t("8baf"),ne=function(e){return Z()(e)},te=function(e){var n=new ee["a"];n.keep(["table"]),n.addRule("strikethrough",{filter:["xion"],replacement:function(e,n){var t=G(n),r=""===t?"":' style="'.concat(t,'"');return"<xion".concat(r,">")+e}}),n.addRule("strikethrough",{filter:function(e,n){var t=e.nodeName.toLowerCase();if(t.startsWith("v"))return!0},replacement:function(e,n,t){var r=n.nodeName.toLowerCase(),o=G(n),a=""===o?"":' style="'.concat(o,'"');return"v"===r&&(a=""),"<".concat(r).concat(a,">")+e}});var t=n.turndown(e);return t},re=(t("4d63"),t("4d90"),t("c1df"),function(){return(new Date).getTime()}),oe=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yy/mm/dd HH:MM:SS",r={"Y+":e.getFullYear().toString(),"y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString()};for(var o in r)n=new RegExp("("+o+")").exec(t),n&&(t=t.replace(n[1],1==n[1].length?r[o]:r[o].padStart(n[1].length,"0")));return t},ae=oe;t("a15b"),t("d81d"),t("b64b")},de8b:function(e,n,t){"use strict";t("488e")},e006:function(e,n,t){"use strict";t.d(n,"b",(function(){return b})),t.d(n,"a",(function(){return h}));t("99af"),t("d81d"),t("b0c0");var r=t("2909"),o=(t("96cf"),t("1da1")),a=t("d4ec"),c=t("262e"),s=t("2caf"),i=t("4dec"),d=t("0d59"),l=[{deep:0,guide:0,hasNext:!1,openid:"d6fdeabd0a4ffcbc12cadbcc1e8659db",parent:"ba28320f31cad34cb3f690bde371bb85",value:"## redding\r\n\r\n最缘由：remeber + 自定义\r\n\r\n衍生想法：re(重复) + 自定义，\r\n\r\n翻译后发现redd现在分词redding（整顿,弄整洁）\r\n\r\n我还是喜欢记住自定义，所以我想要这个服务的核心功能就是在web页面自定义的控制一些内容。\r\n\r\n所以弄成本地笔记？\r\n\r\n## 奇思妙想开始\r\n\r\n\r\n",category:1,created:1599105358937,hash:"83a84be35a5f4613c9465d409ee55fe1e8769c64",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105362930},{deep:0,guide:0,hasNext:!1,openid:"a067d48f5a9bcf03927bde9fbf60a20f",parent:"a5168983af25e9d9136c62eb801b82e7",value:"## redding目的  \r\n\r\n借鉴\r\n\r\n- [notion](https://www.notion.so/)\r\n- [wolai](www.wolai.com)\r\n- [evernote](evernote.com/)\r\n- [onenote](https://www.onenote.com/)\r\n- [processon](processon.com)\r\n- [xmind](xmind.cn)\r\n- [keep](keep.google.com)\r\n- [whiteboard](http://oxoyo.co/XBoard/)\r\n- [whiteboard-ziteboard](app.ziteboard.com)\r\n- [whiteboard-windows](localhost)\r\n\r\n等一系列的笔记，想来实现一个存于*浏览器*的笔记。\r\n\r\n目的：一切皆为自定义话的进行保存自己的笔记的内容。\r\n\r\n数据格式： 以节点为单位，树形为结构。\r\n\r\nvue + typescript + vuex\r\n\r\n利用一些其他的开源代码，监听键盘，管理样式  \r\n，管理函数，动态管理模块，开放化自己的数据  \r\n管理层次，开放化网页的利用性。\r\n\r\n想以*new Function()*的形式进行在浏览器端运  \r\n行代码，以至于，可以人为的自定义自己的这个网站。\r\n\r\n以前端来操作的东西，都一单页应用浏览器来进行  \r\n操作，网页存在多姿多彩的，而思考以自定义化的  \r\n方式进行保存那些网页的内容到自己的网页中，然  \r\n后导出，导入。\r\n\r\n我想以vscode的编辑代码类型的方式来作为一个网  \r\n页的笔记模块，亦或者数据模块。命令行，插件，  \r\n快捷键，文件目录。而网页本身又可以做到图片，  \r\n画图，3d，动画，游戏，可反馈操作，动态编辑元  \r\n素，源码共享等等。\r\n\r\n从上到下，我觉得很好的软件，优点\r\n\r\n### 印象笔记\r\n\r\n我觉得标签很不错，搜索功能，剪藏功能\r\n\r\n### notion\r\n\r\n块结构的笔记，数据表形式的笔记\r\n\r\n### onenote\r\n\r\n画画画\r\n\r\n### progress\r\n\r\n流程图\r\n\r\n### whiteboard\r\n\r\n画图\r\n",category:1,created:1599105379479,hash:"56997046cb788e7de30177d90cd649fada045c81",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105403585},{deep:0,guide:0,hasNext:!1,openid:"d9a555831dee3fe2b5cb75285d3d64e4",parent:"a5168983af25e9d9136c62eb801b82e7",value:"code123",category:1,created:1599105382286,hash:"416c3e87affd150953517f8387f942a905e9c0d6",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105410938},{deep:0,guide:0,hasNext:!1,openid:"e046a273ce84c74340fce848ec763893",parent:"61cb30aff1fd1b2964c859be9041d840",value:'## 结构思考\r\n\r\n我一直在思考和想要去找到的一个解决问题，就是自定话自己提交和得到的数据，\r\n\r\n然后我又可以自定义话的去通过相应的数据自己去完善某一些东西，只要数据格式  \r\n到位，那么，我就可以一定的在应用程序当中实现我自己需要的功能部分，所以  \r\n我思考了很久，不，我通过很长时间过度，在心血来潮的时候去摸索得到的方案是  \r\n什么。然后我得到了一个不是结果的结果。web。\r\n\r\n我过去每一次访问网站，都会去想要一个功能，我知道这个网站的数据，我想要控制  \r\n那些我想要的数据显示，我不想的数据，就给我隐藏，所有的网站都是如此，怎么去  \r\n做呢？我唯一想到的是做一个插件，这个插件具有一些脚本命令，当我访问这一些网页  \r\n的时候，存在一些结构去隐藏和显示元素。油猴是一个很好的，但是油猴不能登录，\r\n第二，油猴仅仅只能作为插件。我之前想，我想要知道所有的网站，我就想，我能不能  \r\n通过去得到所有的ip去得到所有的网站，通过爬虫去抓取和分析网站类型，然后根据  \r\n网站分类，理所当然的我失败了，因为ip是大量的，而网站也是大量的，同样的大多数  \r\n网站是无意的。这些网站和油猴然后思考互相的关系，然后我去想，这些东西都怎么样  \r\n去和用户绑定起来。我想，每一个用户访问一个网站，都具有对应的信息，用户的信息  \r\n自定义保存到他自己需要的服务器当中，在需要的时候自定义的再拿出来，那么是不是  \r\n在浏览器就可以得到自己想要的那一部分内容了。怎么绑定关系？\r\n\r\n我在云途的时候想，我有一个服务器，服务器的不同端口对应我开发的不同的项目，我  \r\n又记不得这些端口，那么有没有一个好的方式去让服务记得，然后可以编辑，然后可以  \r\n获得，不同对应的名字获取对应的内容呢？我想的是json保存，但是json修改容易，得  \r\n到容易，但是不好看呀？所以我就想以json保存，yml显示。又，如果我改yml，如何去  \r\n对应修改json，我在yml调整顺序？我又如何对应的在json修改，（突然想起来了，json  \r\n编辑器好像是一个公司的题目，而我想通过json对应保存我的端口，然后去实现的一个轻\r\n功能，然后结合起来了），当时我考虑的是把json深层递归下去，把递归的数据，根据数据  \r\n的类型分别赋予数据类型，字符串，数组，数字，对象，然后把对象和数组一直递归到底层  \r\n直到字符串和数字或为空，然后每一个节点都有一个父节点。\r\n\r\n所以我推想了一个结构，如下图：\r\n\r\n![json转数组](https://download.xiongxiao.me/manual/json%E8%BD%AC%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B.jpg)\r\n\r\n把json转为树结构，那么把每一个数节点对应起来，那么就可转为数据了。然后通过数据  \r\n转json，也很方便，两者对应修改内容也很方便。\r\n\r\n```js\r\nmodel {\r\n    id  // 当前索引\r\n    parent // 父节点\r\n    deep    // 深度\r\n    hasNext  //是否拥有下一个\r\n    type    // 类型\r\n    key     // 键名\r\n    value   // 键值\r\n}\r\n```\r\n\r\n当时的代码\r\n```js\r\ninterface ContentInterface {\r\n    openid?: string, // openid 生成\r\n    id: number, // id定位\r\n    key: string | number, // key的值\r\n    value: string, // 值， 如果type类型为Object或者Array 则为空\r\n    parent: number, // 父节点的id\r\n    deep: number, // 深度\r\n    hasNext?: boolean, // 是否还有子节点\r\n    type: string,\r\n}\r\n\r\nexport class JsonContent {\r\n    public content: ContentInterface[];\r\n    public originString: string = \'\';\r\n    public originJson: object = {};\r\n    public error: Boolean = false;\r\n    public errorContent: string = \'\';\r\n\r\n    private hasValueType = ["string", "number"]\r\n    constructor(contentJson: string | Object){\r\n        // contentJson \r\n        // 1. 如果是 `object` 直接转换\r\n        // 2. 如果是 `str`  判断是否是字符串\r\n        const fultureJson: Object = this.strOrObjectToObject(contentJson);\r\n        this.content = []\r\n        this.jsonToContent(fultureJson);\r\n    }\r\n    /**\r\n     * 转Str或者Object 得到内容\r\n     */\r\n    public fromStr(contentJson: string | Object){\r\n        this.content = []\r\n        const fultureJson: Object = this.strOrObjectToObject(contentJson);\r\n        this.jsonToContent(fultureJson);\r\n        return this\r\n    }\r\n    public toStr(content: ContentInterface[] = []) {\r\n        if(content.length === 0){\r\n            content = this.content;\r\n        }\r\n        return JSON.stringify(this.contentToJson(content));\r\n    }\r\n    public toStr2(content: ContentInterface[] = [], hasBlank=2) {\r\n        if(content.length === 0){\r\n            content = this.content;\r\n        }\r\n        return JSON.stringify(this.contentToJson(content), null, hasBlank);\r\n    }\r\n    public deleteNode(pos: number){\r\n        const MaxLength = this.content.length;\r\n        const getJson = this.content;\r\n\r\n        for(let i=0;i < MaxLength;i++){\r\n            if(getJson[i].id === pos){\r\n                pos = i;\r\n                break\r\n            }\r\n        }\r\n        const childNumber:number[] = [];\r\n        childNumber.push(getJson[pos].id);\r\n\r\n        if(pos >= MaxLength) {\r\n            this.content.pop();\r\n            return this.content\r\n        }\r\n        let offset = pos;\r\n        for(let i = pos+1; i< getJson.length; i++){\r\n            if(childNumber.includes(getJson[i].parent)){\r\n                childNumber.push(getJson[i].id);\r\n            } else{\r\n                break;\r\n            }\r\n            offset = i;\r\n        }\r\n        getJson.splice(pos,offset-pos+1)\r\n        return this\r\n    }\r\n    // 转默认的Object\r\n    private strOrObjectToObject(contentJson: string | Object){\r\n        this.originString = JSON.stringify(contentJson)\r\n        this.originJson = JSON.parse(this.originString)\r\n\r\n        let fultureJson: Object = {}\r\n        if (typeof contentJson === "string"){\r\n            try{\r\n                fultureJson = JSON.parse(contentJson);\r\n                this.error = false;\r\n                this.errorContent = "";\r\n            }catch(e){\r\n                console.log("错误", e);\r\n                console.error(e.toString())\r\n                this.error = true;\r\n                this.errorContent = e.toString();\r\n            }\r\n        } else {\r\n            fultureJson = contentJson;\r\n        }\r\n        return fultureJson;\r\n    }\r\n    /**\r\n     * 功能函数\r\n     * @param contentJson \r\n     */\r\n    private jsonToContent(contentJson: any, parent_id: number = -1, deep_id: number =0){    \r\n\r\n        for(let i of Object.keys(contentJson)){\r\n            // console.log("key",i,typeof i, )\r\n            // console.log("value", contentJson[i], typeof contentJson[i])\r\n            const id:number = this.length();\r\n            const key:string = i;\r\n            const parent:number = parent_id;\r\n            const deep:number = deep_id;\r\n            \r\n            let value: string = "";\r\n            let type: string ="string";\r\n\r\n            const getType = typeof contentJson[i];\r\n\r\n           \r\n            if(this.hasValueType.includes(getType)){\r\n                value = contentJson[i];\r\n            }else{\r\n                value = "";\r\n            }\r\n            type = this.getContentType(contentJson[i])\r\n\r\n            // 处理content的类型\r\n            const input_content: ContentInterface = {\r\n                id,\r\n                key,\r\n                value,\r\n                parent,\r\n                deep,\r\n                type\r\n            }\r\n            this.content.push(input_content);\r\n\r\n            if(type === "object" || type === "array") {\r\n                this.jsonToContent(contentJson[i], id, deep_id + 1)\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 功能函数 Array To Object\r\n     * @param getJson \r\n     */\r\n    private contentToJson(getJson:ContentInterface[]){\r\n        let resultObject:any = {};\r\n        for(let i =0; i< getJson.length; i++) {\r\n            if(this.hasValueType.includes(getJson[i].type)){\r\n                resultObject[getJson[i].key] = getJson[i].value;\r\n            }\r\n            const parentGetJsonType = getJson[i].type \r\n            if(getJson[i].value === "array-3"){\r\n                console.log("array", getJson[i])\r\n            }\r\n            if(parentGetJsonType === "object" || parentGetJsonType === "array"){\r\n                const children:ContentInterface[] = [];\r\n                const childNumber:number[] = [];\r\n                const parentKey = getJson[i].key\r\n                childNumber.push(getJson[i].id);\r\n                if(i >= getJson.length) {\r\n                    resultObject[getJson[i].key] = {};\r\n                    continue;\r\n                }\r\n                for(i++;i< getJson.length; i++){\r\n                    if(childNumber.includes(getJson[i].parent)){\r\n                        childNumber.push(getJson[i].id);\r\n                        children.push(getJson[i]);   \r\n                    } else{\r\n                        break;\r\n                    }\r\n                }\r\n                if(parentGetJsonType === "object"){\r\n                    resultObject[parentKey] = this.contentToJson(children);\r\n                }else{\r\n                    let resultArray = []\r\n                    const resultFromContentToJson = this.contentToJson(children);\r\n                    for(let jKey of Object.keys(resultFromContentToJson)){\r\n                        resultArray.push(resultFromContentToJson[jKey])\r\n                    }\r\n                    resultObject[parentKey] = resultArray;\r\n                }\r\n                i--;\r\n            }\r\n        }\r\n        return resultObject;\r\n    }\r\n\r\n    private getContentType(contentJson: any): string {\r\n        // typeof能判断的基本类型：undefined，string，boolean，number，object，Function\r\n        // return typeof contentJson;\r\n        if(typeof contentJson !== "object"){\r\n            return  typeof contentJson;\r\n        }else{\r\n            if (Array.isArray(contentJson)){\r\n                return "array";\r\n            }else {\r\n                return "object";\r\n            }\r\n        }\r\n    }\r\n    private length(){\r\n        return this.content.length;\r\n    }\r\n}\r\n\r\nexport default {\r\n    "title": "function"\r\n}\r\n```\r\n\r\n从这一个结构回源，想到了ip寻址，路由关系，局域网关系，我json转数组的结构只是一层的局域的  \r\n内容，一个树外还有另一个树。所以往外推，就是一个网状结构。\r\n\r\n然，数据是什么，结构是这样，但是其中的数据是什么，其中的数据，图片，文字，音频，视频，交互?  \r\n\r\n只要有一个树的枝干在，我想，如果对于一个喜欢自定义的，我可以在树的枝干上挂任何一个果实，不必  \r\n拘泥于形状，说到这里，我就很喜欢json数据，可拓展性极强，另一句话说，我获取数据的类很容易，一切  \r\n的数据现在存放的格式从整备的格式（关系型数据库）,到现在的非关系型数据库，发展下来，感觉数据已经  \r\n不在拘泥于格式，形状，方法，任意的，只要你懂这个数据是什么，那么可以用自己懂的方式去实现数据的  \r\n理解，所以我想，把数据的存放留给用户自己，显示的方法留给自己，value的格式是不定向的。\r\n\r\n核心：树，图。树的节点数据任意，树的关系，父父子子。\r\n\r\n### 所以想到结构-就是二叉树\r\n',category:1,created:1599105471347,hash:"5849dbfade76f342d83a6923b3e6f3598c04d339",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105491050},{deep:0,guide:0,hasNext:!1,openid:"0c626468c2e1d673a5db4bd5cfb5093b",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 是作为一个笔记而计划的\r\n> redding使用技术\r\n\r\n作为一个笔记，记录一个人书写的任何的内容，可以把内容放到本地，根据自己想要的方式存放。\r\n\r\n然后可拓展？思考如何去拓展？\r\n\r\n## 使用\r\n\r\n基础使用vue+typescript+cloudbase进行开发\r\n\r\n```js\r\n"@cloudbase/js-sdk": "^1.2.2",\r\n"ace-builds": "^1.4.12",\r\n"axios": "^0.20.0",\r\n"cos-js-sdk-v5": "^0.5.27",\r\n"crypto-js": "^4.0.0",\r\n"dexie": "^3.0.2",\r\n"element-ui": "^2.13.2",\r\n"hotkeys-js": "^3.8.1",\r\n"marked": "^1.1.1",\r\n"moment": "^2.27.0",\r\n"register-service-worker": "^1.7.1",\r\n"throttle-debounce": "^2.3.0",\r\n"turndown": "^6.0.0",\r\n"uuid": "^8.3.0",\r\n"vue": "^3.0.0-rc.9",\r\n"vue-class-component": "^8.0.0-0",\r\n"vue-router": "^4.0.0-0",\r\n"vuex": "^4.0.0-0"\r\n```\r\n\r\n从我使用的顺序，记忆的顺序\r\n\r\n## typescript\r\n\r\n## console.log使用工具\r\n\r\n## markdwon编辑（互转）\r\n\r\n## crypto 哈希值\r\n\r\n## moment日期格式\r\n\r\n## ace-builds编辑器\r\n\r\n## throttle-debounce\r\n\r\n## hotkeys-js\r\n\r\n## vuex\r\n\r\n## dexie\r\n\r\n## axios\r\n\r\n## 腾讯云云开发和cos包\r\n\r\n## web文件导入导出\r\n\r\n## window对象',category:1,created:1599105508672,hash:"276c90aa0138fdac7695c8f345cf76b6a6af84e5",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105529122},{deep:0,guide:0,hasNext:!1,openid:"8fd4ad95ae0a5e52d9962af62325016b",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 02 console\r\n\r\n第一个参数可以是一个包含格式化占位符输出的字符串，例如：\r\n\r\n```js\r\nconsole.log("The %s jumped over %d tall buildings", animal, count);\r\n```\r\n\r\n上面的例子可以用下面的无格式化占位符输出的代码替换：\r\n\r\n```js\r\nconsole.log( " The " , animal,  " jumped over " , count,  " tall buildings " );\r\n```\r\n\r\n并且，这两种方式是可以组合使用的。如果使用了格式化占位符，而提供的参数的个数多于占位符的个数，那么，多余的参数会以空格分隔的方式附加在字符串后面，就像：\r\n\r\n```js\r\nconsole.log( " I am %s and I have: " , myName, thing1, thing2, thing3);\r\n```\r\n\r\n如果参数是一个Javascript对象，那么在控制台输出的就不是静态文字，而是一个可交互的超链接，点击超链接可以查看该对象的HTML, CSS, Script, DOM窗口，可用格式化字符串%o代替Javascript对象。\r\n\r\n```js\r\nconsole.log( " Body tag is %o " , document.body);\r\n%s\t    字符串\r\n%d, %i\t整型（暂不支持数字型）\r\n%f\t    浮点型 （暂不支持数字型）\r\n%o,%O\t链接对象\r\n%c\t    应用提供的CSS font-size: 30px;\r\n```\r\n\r\n```js\r\nconsole.debug(object[, object, ...])\r\n```\r\n\r\n在控制台输出一条消息，包含一个指向代码调用位置的超链接。假如是直接在控制台输入该命令，就不会出现超链接（和console.log()一样）。\r\n\r\n```js\r\nconsole.info(object[, object, ...])\r\n```\r\n\r\n在控制台输出一条带有“信息”图标的消息和一个指向代码调用位置的超链接。\r\n\r\n```js\r\nconsole.warn(object[, object, ...])\r\n```\r\n\r\n在控制台输出一条带有“警告”图标的消息和一个指向代码调用位置的超链接。\r\n\r\n```js\r\nconsole.error(object[, object, ...])\r\n```\r\n\r\n在控制台输出一条带有“错误”图标的消息和一个指向代码调用位置的超链接。\r\n\r\n```js\r\nconsole.assert(expression[, object, ...])\r\n```\r\n\r\n测试表达式expression是否为真。如果不是真，会在控制台写一条消息并抛出异常\r\n\r\n```js\r\nconsole.dir(object)\r\n```\r\n\r\n以列表形式输出一个对象的所有属性，有点和你查看DOM窗口相类似。\r\n\r\n```js\r\nconsole.dirxml(node)\r\n```\r\n\r\n输出一个HTML或者XML元素的XML源代码。和你在HTML窗口看到的相似。\r\n\r\n```js\r\nconsole.trace() //打印追踪\r\n```\r\n\r\n```js\r\nconsole.group(object[, object, ...])\r\n```\r\n\r\n输出一条消息，并打开一个嵌套块，块中的内容都会缩进。调用console.groupEnd()关闭块。该命令可以嵌套使用。\r\n\r\n```js\r\nconsole.groupEnd()\r\n```\r\n\r\n关闭最近一个由console.group打开的块。\r\n\r\n```js\r\nconsole.time(name)\r\n```\r\n\r\n创建一个名字为name的计时器，调用console.timeEnd(name)停止计时器并输出所耗时间（毫秒）。\r\n\r\n```js\r\nconsole.timeEnd(name)\r\n```\r\n\r\n停止同名的计时器并输出所耗时间（毫秒）。\r\n\r\n```js\r\nconsole.profile([title])\r\n```\r\n\r\n打开Javascript性能测试开关。可选参数title会在打印性能测试报告时在报告的开头输出。\r\n\r\n```js\r\nconsole.profileEnd()\r\n```\r\n\r\n关闭Javascript性能测试开关并输出报告。\r\n\r\n```js\r\nconsole.count([title])\r\n```\r\n\r\n触发一个计数，计数由1开始。可选参数title会在显示计数时在报告的开头输出。',category:1,created:1599105597768,hash:"9408812f907e8ee8cd741a81a82a6d10b5c3491e",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105625466},{deep:0,guide:0,hasNext:!1,openid:"d7c2e132962e04e741b3ebcb3e211478",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 03 markdown \r\n\r\nmarkdown转html（marked)  \r\nhtml转markdown(turndown)  \r\n\r\nmarked可扩展高亮\r\n`marked(markdownString [,options] [,callback])`\r\n\r\nturndown 根据分词设定是否转换，我这里设置table转换的时候table标签保留。因为table标签，转回来的时候消失，不会自动转换为markdown格式，就会互转的过程样式丢失。\r\n\r\n为了更好的优化，我设定了css为xion和v的元素保留，可以根据style进行自己设定style的显示格式。\r\n\r\n```js\r\nimport marked from "marked";\r\nimport TurndownService, { Options } from \'turndown\';\r\nimport { getStyle } from "./style";\r\n\r\nconst parseText = ( text: string ) => {\r\n    return marked(text);\r\n}\r\nconst parseHtml = ( html: string) => {\r\n    const turndownService: any = new TurndownService();\r\n    turndownService.keep([\'table\'])\r\n    turndownService.addRule(\'strikethrough\', {\r\n        filter: [\'xion\'],\r\n        replacement: function (content: any, node: HTMLElement) {\r\n          const style = getStyle(node);\r\n          const setStyle = style === "" ? "" : ` style="${style}"`\r\n          return `<xion${setStyle}>` + content\r\n        }\r\n      })\r\n    turndownService.addRule(\'strikethrough\', {\r\n        filter: (node: HTMLElement, options: Options) => {\r\n            const nodeName = node.nodeName.toLowerCase();\r\n            if(nodeName.startsWith("v")){\r\n                return true\r\n            }\r\n        },\r\n        replacement: function (content: any, node: HTMLElement, options: Options) {\r\n            const nodeName = node.nodeName.toLowerCase();\r\n            const style = getStyle(node);\r\n            let setStyle = style === "" ? "" : ` style="${style}"`\r\n            if(nodeName === "v") setStyle=""\r\n            return `<${nodeName}${setStyle}>` + content\r\n          }\r\n    })\r\n    const markdown = turndownService.turndown(html)\r\n    return markdown;\r\n}\r\nexport  {\r\n    parseText,\r\n    parseHtml\r\n}\r\n```',category:1,created:1599105630076,hash:"a8c1951469d384575ee6d38f98916b0a77f86b7b",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105650040},{deep:0,guide:0,hasNext:!1,openid:"368130c6cab6e556a0f92ff54e68cadb",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 04 hash and uuid\r\n\r\nuuid版本具有四种\r\n\r\nUUID Version 1：基于时间的UUID\r\n基于时间的UUID通过计算当前时间戳、随机数和机器MAC地址得到。由于在算法中使用了MAC地址，这个版本的UUID可以保证在全球范围的唯一性。但与此同时，使用MAC地址会带来安全性问题，这就是这个版本UUID受到批评的地方。如果应用只是在局域网中使用，也可以使用退化的算法，以IP地址来代替MAC地址－－Java的UUID往往是这样实现的（当然也考虑了获取MAC的难度）。\r\n\r\nUUID Version 2：DCE安全的UUID\r\nDCE（Distributed Computing Environment）安全的UUID和基于时间的UUID算法相同，但会把时间戳的前4位置换为POSIX的UID或GID。这个版本的UUID在实际中较少用到。\r\n\r\nUUID Version 3：基于名字的UUID（MD5）\r\n基于名字的UUID通过计算名字和名字空间的MD5散列值得到。这个版本的UUID保证了：相同名字空间中不同名字生成的UUID的唯一性；不同名字空间中的UUID的唯一性；相同名字空间中相同名字的UUID重复生成是相同的。\r\n\r\nUUID Version 4：随机UUID\r\n根据随机数，或者伪随机数生成UUID。这种UUID产生重复的概率是可以计算出来的。\r\n\r\nUUID Version 5：基于名字的UUID（SHA1）和版本3的UUID算法类似，只是散列值计算使用SHA1（Secure Hash Algorithm 1）算法。\r\n\r\nuuid是为了获取唯一值，我想如果基于时间，两个相同的用户同一分秒创建，那么uuid是否就重复了，所以v1和v4两个一起用了。\r\n\r\n```js\r\nimport { v1 as uuidv1 } from "uuid";\r\nimport { v4 as uuidv4 } from "uuid";\r\n\r\nconst getUUID = (num: number) => {\r\n  switch (num) {\r\n    case 1:\r\n      return uuidv1().replace(/-/g, "");\r\n    case 4:\r\n      return uuidv4().replace(/-/g, "");\r\n    default:\r\n      break;\r\n  }\r\n  return uuidv1().replace(/-/g, "");\r\n};\r\n\r\nexport { uuidv1, uuidv4, getUUID };\r\n\r\n```\r\n\r\n获取hash的值，验证两个笔记是否相同\r\n\r\n```js\r\nimport CryptoJS from "crypto-js";\r\nimport { getUUID } from "./uuid";\r\nconst getHash = (content: string) => {\r\n  return CryptoJS.SHA1(content).toString();\r\n};\r\nconst getOpenid = () => {\r\n  return CryptoJS.MD5(getUUID(1) + getUUID(4)).toString();\r\n};\r\nexport enum CryptoDoing {\r\n  Encrypt,\r\n  Decrypt\r\n}\r\nexport const getRES = (msg:string, flag=CryptoDoing.Encrypt, secret:string="a1b1c1-reding") => {\r\n  if(flag === CryptoDoing.Encrypt){\r\n    return CryptoJS.AES.encrypt(msg, secret).toString();\r\n  }else if(flag === CryptoDoing.Decrypt){\r\n    return CryptoJS.AES.decrypt(msg, secret).toString(CryptoJS.enc.Utf8);\r\n  }\r\n}\r\n```\r\n',category:1,created:1599105631551,hash:"460de96af6467b618f80b550f01f85da7a15df6c",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105667627},{deep:0,guide:0,hasNext:!1,openid:"0a5616f27f6017647c96b515f5289d58",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 05 moment日期格式化\r\n\r\n\r\n```js\r\nimport moment from "moment";\r\n\r\n// moment().format();                                // "2014-09-08T08:02:17-05:00" (ISO 8601, no fractional seconds)\r\n// moment().format("dddd, MMMM Do YYYY, h:mm:ss a"); // "Sunday, February 14th 2010, 3:25:50 pm"\r\n// moment().format("ddd, hA");                       // "Sun, 3PM"\r\n// moment().format("[Today is] dddd");               // "Today is Sunday"\r\n// moment(\'gibberish\').format(\'YYYY MM DD\');         //\r\n//  moment().format("Y/M/D hh:mm:ss")\r\n// "2020/9/3 09:53:01"\r\nconst getMoFormat = (date: Date, fmt =\'YY/M/D hh:mm:ss\') => {\r\n  return moment(date).format(fmt);\r\n}\r\nconst getTimestamp = () => {\r\n  return new Date().getTime();\r\n};\r\nconst logTime = (v:any = "hh") => {\r\n  console.log(v, new Date().toLocaleString())\r\n}\r\n/**\r\n *对Date的扩展，将 Date 转化为指定格式的String\r\n *月(M)、日(d)、小时(h)、分(m)、秒(s)、季度(q) 可以用 1-2 个占位符，\r\n *年(y)可以用 1-4 个占位符，毫秒(S)只能用 1 个占位符(是 1-3 位的数字)\r\n *例子：\r\n *(new Date()).Format("yyyy-MM-dd hh:mm:ss.S") ==> 2020-07-02 08:09:04.423\r\n *(new Date()).Format("yyyy-M-d h:m:s.S")      ==> 2020-7-2 8:9:4.18\r\n */\r\nconst getDateFormat = (date: Date , fmt = "yy/mm/dd HH:MM:SS") => {\r\n  let ret;\r\n  const opt: any = {\r\n    "Y+": date.getFullYear().toString(), // 年\r\n    "y+": date.getFullYear().toString(), // 年\r\n    "m+": (date.getMonth() + 1).toString(), // 月\r\n    "d+": date.getDate().toString(), // 日\r\n    "H+": date.getHours().toString(), // 时\r\n    "M+": date.getMinutes().toString(), // 分\r\n    "S+": date.getSeconds().toString() // 秒\r\n    // 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n  };\r\n  for (const k in opt) {\r\n    ret = new RegExp("(" + k + ")").exec(fmt);\r\n    if (ret) {\r\n      fmt = fmt.replace(\r\n        ret[1],\r\n        ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, "0")\r\n      );\r\n    }\r\n  }\r\n  return fmt;\r\n};\r\nconst df = getDateFormat;\r\nexport { \r\n  getTimestamp,\r\n  getDateFormat,\r\n  getMoFormat,\r\n  df,\r\n  moment,\r\n  logTime,\r\n};\r\n```\r\n',category:1,created:1599105677705,hash:"879fc358da7e66b63a1dfc4d50ebff5f787c9a46",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105681829},{deep:0,guide:0,hasNext:!1,openid:"4f82469bb65990d431f859cf4cd00635",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 06 ace编辑器\r\n\r\n这是在vue中使用，element是具体对应的元素\r\n\r\n其中初始化具有一些配置\r\n\r\nwebpack module 引入模块需要安装ace-builds，同时使用的时候需要配置如下\r\n\r\n```js\r\nace.config.set(\r\n    "basePath", \r\n    "https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"\r\n)\r\n```\r\n\r\n才能使用 设置Mode（setMode)和设置Theme(setTheme)，否则会报错。\r\n\r\n查看[ace文档](https://ace.c9.io/#nav=api&api=editor)，setShowPrintMargin是控制是否显示，打印边界。默认有一条线在右边，不好看。\r\n\r\n```js\r\nconst element = this.$refs.rightElement;\r\nconst editor = ace.edit("editor", {\r\n    // maxLines: 20, // 最大行数，超过会自动出现滚动条\r\n    minLines: 10, // 最小行数，还未到最大行数时，编辑器会自动伸缩大小\r\n    fontSize: 12, // 编辑器内字体大小\r\n    // theme: this.themePath, // 默认设置的主题\r\n    // mode: this.modePath, // 默认设置的语言模式\r\n    tabSize: 4, // 制表符设置为 4 个空格大小\r\n    readOnly: false,\r\n    highlightActiveLine: false,\r\n    value: this.code\r\n});\r\nace.config.set(\r\n    "basePath", \r\n    "https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"\r\n)\r\n// editor.setTheme("ace/theme/monokai"); \r\neditor.getSession().setMode("ace/mode/markdown");\r\neditor.getSession().setUseWrapMode(true); // 自动换行\r\neditor.setShowPrintMargin(false); \r\nthis.editor = editor;\r\neditor.getSession().on("change", this.onChangeAce);\r\nconst value = this.markdown.value||"code";\r\neditor.setValue(value);\r\neditor.clearSelection()\r\neditor.on("blur", this.onFinish);   \r\neditor.focus()\r\n```\r\n\r\n其中html中编辑，有input的textarea，和div设置contenteditable，contenteditable的优点是，样式确定后，只需要修改其中内容即可，绑定了样式。\r\n\r\n理想化方案：我在ace编辑器，放置了一些漂亮的字体，文本，颜色，边框。但是我不想删除的时候去掉，我只需要在右边显示的地方，改其中的内容即可。\r\n',category:1,created:1599105691149,hash:"37bbf9f9c3a74dfb026bbbcb0e5c9bd82c9673ce",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105694378},{deep:0,guide:0,hasNext:!1,openid:"89a80c6f2ad185c78ee403e28b5f11a5",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 07 防抖和节流\r\n\r\nthrottle-debounce\r\n\r\n因为内容修改绑定的时候，打字很快的话，可以缓改内容到数据库。\r\n\r\n基本用法是\r\n\r\n创建防抖函数，然后回调\r\n\r\n```js\r\nimport { throttle, debounce } from "throttle-debounce";\r\nconst throttleFunc = throttle(1000, false, (call) => {\r\n  call();\r\n});\r\n\r\nconst debounceFunc = debounce(1000, false, call => {\r\n    call();\r\n});\r\n\r\nexport { throttleFunc, debounceFunc, debounce, throttle };\r\n\r\n```',category:1,created:1599105729938,hash:"e94574266754b1ec4a23e64fd8b8f12d26591d0a",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105752217},{deep:0,guide:0,hasNext:!1,openid:"885623ad029cff7259bbcca2f83c792f",parent:"1c1955d70217e0e9f25fde870a8b1737",value:"## 08 hotkeys\r\n\r\n浏览器热键管理,方便dom元素和键盘快捷键的绑定，event是浏览器键盘事件，按键的属性，handler是hotkeys库的监听属性。\r\n\r\n可以用`*`进行匹配，可以多个事件绑定，unbind也很方便。\r\n\r\n```js\r\nhotkeys('ctrl+a,alt+a+s', {keyup: true}, function(event, handler) {\r\n    if (event.type === 'keydown') {\r\n    console.log('keydown:', event.type, handler, handler.key);\r\n    }\r\n\r\n    if (event.type === 'keyup') {\r\n    console.log('keyup:', event.type, handler, handler.key);\r\n    }\r\n    });\r\nhotkeys('*', function(event){\r\n    console.log(\"key=:\", hotkeys.getPressedKeyCodes(), event);\r\n})\r\nhotkeys('ctrl+k,ctrl+s', function(event) {\r\n    event.preventDefault()\r\n})\r\nhotkeys.filter= (event)=>true;\r\nhotkeys.unbind('ctrl+k,ctrl+s', function(event) {\r\n    event.preventDefault()\r\n})\r\n```\r\n\r\nhotkeys会过滤input的内容的输入监听，通过hotkeys.filter = (event)=>any进行自我过滤设置。\r\n\r\n键码和按键对应总结\r\n```js\r\nimport { HotkeysEvent } from 'hotkeys-js';\r\nconst isff =\r\n  typeof navigator !== \"undefined\"\r\n    ? navigator.userAgent.toLowerCase().indexOf(\"firefox\") > 0\r\n    : false; // 绑定事件\r\nconst keyMap:any = {\r\n  backspace: 8,\r\n  tab: 9,\r\n  clear: 12,\r\n  enter: 13,\r\n  return: 13,\r\n  esc: 27,\r\n  escape: 27,\r\n  space: 32,\r\n  left: 37,\r\n  up: 38,\r\n  right: 39,\r\n  down: 40,\r\n  del: 46,\r\n  delete: 46,\r\n  ins: 45,\r\n  insert: 45,\r\n  home: 36,\r\n  end: 35,\r\n  pageup: 33,\r\n  pgup: 33,\r\n  pagedown: 34,\r\n  pgdn: 34,\r\n  capslock: 20,\r\n  pause: 19,\r\n  \"⇪\": 20,\r\n  \",\": 188,\r\n  \".\": 190,\r\n  \"/\": 191,\r\n  \"`\": 192,\r\n  \"-\": isff ? 173 : 189,\r\n  \"=\": isff ? 61 : 187,\r\n  \";\": isff ? 59 : 186,\r\n  \"'\": 222,\r\n  \"[\": 219,\r\n  \"]\": 221,\r\n  \"\\\\\": 220\r\n}; \r\n// Modifier Keys\r\n\r\nconst modifier:any = {\r\n  // shiftKey\r\n  \"⇧\": 16,\r\n  shift: 16,\r\n  // altKey\r\n  \"⌥\": 18,\r\n  alt: 18,\r\n  option: 18,\r\n  // ctrlKey\r\n  \"⌃\": 17,\r\n  ctrl: 17,\r\n  control: 17,\r\n  // metaKey\r\n  \"⌘\": 91,\r\n  cmd: 91,\r\n  command: 91\r\n};\r\n// F1~F12 special key\r\nfor (let k = 1; k < 20; k++) {\r\n    keyMap[\"f\".concat(''+k)] = 111 + k;\r\n}\r\nconst code = function code(x:string) {\r\n  return (\r\n    keyMap[x.toLowerCase()] ||\r\n    modifier[x.toLowerCase()] ||\r\n    x.toUpperCase().charCodeAt(0)\r\n  );\r\n}; // 设置获取当前范围（默认为'所有'）\r\nconst keyboards = [\r\n            ['Esc','F1','F2','F3','F4','F5','F6','F7','F8','F9','F10','F11','F12'],\r\n            ['`','1','2','3','4','5','6','7','8','9','0','-','=','Delete'],\r\n            ['Tab', 'q', 'w', 'e', 'r', 't', 'y', 'u', 'i', 'o', 'p', '[', ']', '\\\\'],\r\n            ['Caps', 'a', 's', 'd', 'f', 'g', 'h', 'j', 'k', 'l', ';', '\\'', 'Enter'],\r\n            ['Shift', 'z', 'x', 'c', 'v', 'b', 'n', 'm', ',', '.', '/', 'Shift'],\r\n            ['Ctrl','Command', 'Alt', 'Space', 'Alt', 'Fn', '']\r\n]\r\nconst keyboardsMiddle = [\r\n    ['PrtSc','ScrLk','Pause'],\r\n    ['Ins','Home','PgUp'],\r\n    ['Del','End','PgDn'],\r\n    ['','',''],\r\n    ['','up',''],\r\n    ['left','down','right']\r\n]\r\n\r\nconst keyboardsNumber = [\r\n    ['','','',''],\r\n    ['Num','/','*','-'],\r\n    ['7','8','9','+'],\r\n    ['4','5', '6', '+'],\r\n    ['1','2','3','enter'],\r\n    ['0','del']\r\n]\r\n\r\nconst preventDefault = (event: any) => {\r\n    event.preventDefault();\r\n}\r\n\r\nexport {\r\n  preventDefault\r\n}\r\n```",category:1,created:1599105754474,hash:"983458f59dbcda13347d13d59264902fc1cc0692",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105763239},{deep:0,guide:0,hasNext:!1,openid:"96d40094e2aa460464fe326cff664044",parent:"1c1955d70217e0e9f25fde870a8b1737",value:"## 09 vuex store的用法\r\n\r\n基本结构\r\n\r\n```js \r\nconst store = {\r\n    state: ()=>{},\r\n    getters: {},\r\n    mutations: {},\r\n    actions: {},\r\n    modules: {}\r\n}\r\n```\r\n\r\n在vue页面使用的时候，用mapGetters更方便，而把store和map绑定到windows上，开发web版的接口。\r\n\r\n其中actions的函数参数context,payload;  \r\ncontext包含dispatch，commit，getters,state，rootState,rootGetters  \r\n可以异步\r\n\r\n其中mutations的函数的参数为state和payload，不能异步\r\n\r\ngetters的函数的参数为state，如果要获取参数的话，使用\r\n\r\n```js\r\ngetters:{\r\n    g:(state)=>(params)=>state.content;\r\n}\r\n```\r\n\r\n基本映射关系\r\n```js\r\nimport { mapGetters, mapActions, mapMutations, mapState} from \"vuex\";\r\nconst map = (v:any, done:any) => {\r\n  const funcs = {...done(v)};\r\n  for(const i in funcs) {\r\n    funcs[i] = funcs[i].bind(app);\r\n  }\r\n  return funcs;\r\n}\r\nif (window) {\r\n  window.store = store;\r\n  window.smap = {\r\n    getters: (v:string[]) => map(v, mapGetters),\r\n    actions: (v:string[]) => map(v, mapActions),\r\n    mutions: (v:string[]) => map(v, mapMutations),\r\n    state: (v:string[]) => map(v, mapState),\r\n  }\r\n```\r\n\r\n模块动态注册\r\n\r\n```js\r\nimport { Store } from 'vuex';\r\n\r\nexport const registerModule = (store:Store<any>, module:any) => {\r\n    store.registerModule(module.name,module);\r\n}\r\n```",category:1,created:1599105776830,hash:"9be6ccbea5e03cbea134d913bce48b0fb209adb7",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105786176},{deep:0,guide:0,hasNext:!1,openid:"53787c0e8af73f61e5e90fe4bc909601",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 10 dexie\r\n\r\ndexie是使用indexdb的一款开源软件。\r\n\r\n简化了操作indexdb的过程。\r\n\r\n每次更新和获取操作通过事务管理。\r\n[dexie document](https://dexie.org/docs/API-Reference)\r\n\r\n```js\r\nimport Dexie from "dexie";\r\nimport { Note } from "@/models";\r\nimport { exampleBlocks,examplePages } from \'@/models/note/note\';\r\nimport {DefaultValue as Default} from "@/store/default-value";\r\nimport { setls, getls, clearls, removels } from "./local-storage";\r\n\r\nclass NoteDB extends Dexie {\r\n    public notes: Dexie.Table<Note<any>, string>;\r\n    public constructor(){\r\n        super("NoteDB");\r\n        this.version(Default.DB_VERSION.value as number).stores({notes: "openid,created,updated,hash,keys,title,category,type,parent"})\r\n        this.notes = this.table("notes")\r\n        console.log("version", Default.DB_VERSION.value)\r\n    }\r\n}\r\n\r\nconst db = new NoteDB();\r\nconst DB_IS_INIT = localStorage.getItem(Default.DB_IS_INIT.name)\r\n// debugger;\r\nif(!DB_IS_INIT){\r\n    db.transaction("rw", db.notes, async()=>{\r\n        const adds = [...exampleBlocks,...examplePages];\r\n        // for(const i in adds){\r\n        //     db.notes.add(adds[i]);\r\n        // }\r\n        db.notes.bulkAdd(adds);\r\n    }).catch(e => {\r\n        alert(e.stack || e);\r\n    })\r\n    setls(Default.DB_IS_INIT)\r\n}\r\n\r\n// db.transaction("rw", db.notes, async()=>{\r\n//     const update = examplePages[0];\r\n//     update.title = "我是修改的内容1";\r\n//     db.notes.update(update,update);\r\n// })\r\nexport {\r\n    db\r\n}\r\n```\r\n',category:1,created:1599105788801,hash:"802cd9b5e8b058f7d8a6072471da74e510496ad2",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105794972},{deep:0,guide:0,hasNext:!1,openid:"660e61517f7f52be1b995b6d801b0b0d",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 11 axios是一个数据请求的包\r\n\r\n可以在node和浏览器环境通用，而fetch不行。\r\n\r\naxios可以设置截断\r\n\r\n```js\r\n// Add a request interceptor\r\naxios.interceptors.request.use(function (config) {\r\n    // Do something before request is sent\r\n    return config;\r\n  }, function (error) {\r\n    // Do something with request error\r\n    return Promise.reject(error);\r\n  });\r\n\r\n// Add a response interceptor\r\naxios.interceptors.response.use(function (response) {\r\n    // Any status code that lie within the range of 2xx cause this function to trigger\r\n    // Do something with response data\r\n    return response;\r\n  }, function (error) {\r\n    // Any status codes that falls outside the range of 2xx cause this function to trigger\r\n    // Do something with response error\r\n    return Promise.reject(error);\r\n  });\r\n```\r\n\r\n```js\r\nimport axios from "axios";\r\nimport {AxiosRequestConfig} from "axios";\r\n\r\nconst get = async (url: string, config: AxiosRequestConfig|undefined=undefined) => {\r\n    return await axios.get(url, config);\r\n}\r\nconst post = async (url: string, data: any, config: AxiosRequestConfig|undefined = undefined) => {\r\n    return await axios.post(url, data, config);\r\n}\r\n\r\nexport {\r\n    get, post\r\n}\r\n```\r\n\r\nfetch 的js\r\n\r\n```js\r\nconst params = (data: any) => {\r\n  return Object.keys(data)\r\n    .map((key) => `${key}=${encodeURIComponent(data[key])}`)\r\n    .join("&");\r\n};\r\n\r\nexport const fetchGet = async (url: string, data: any = "") => {\r\n  if (data !== "") {\r\n    url = url + "?" + params(data);\r\n  }\r\n  return await fetch(url)\r\n    .then((res) => res.json())\r\n    .catch((res) => res);\r\n};\r\n\r\nexport const fetchPost = async (\r\n  url: string,\r\n  data: object,\r\n  config: any = undefined\r\n) => {\r\n  return await fetch(url, {\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      "content-type": "application/json",\r\n    },\r\n    method: "POST",\r\n    mode: "cors",\r\n  }).then((res) => res.json());\r\n};\r\n\r\n```',category:1,created:1599105805365,hash:"e7c4ae9ad739f9964c0d36f076f90b9b0364b08f",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105810989},{deep:0,guide:0,hasNext:!1,openid:"70c12f09c19dfd6dfae5379ab273f254",parent:"1c1955d70217e0e9f25fde870a8b1737",value:"## 12 腾讯云云开发和cos包\r\n\r\n[document](https://docs.cloudbase.net/api-reference/webv2/authentication.html)\r\n```js\r\nimport tcb from \"@cloudbase/js-sdk\";\r\n\r\nconst tcbApp = tcb.init({\r\n  env: \"abear2-198d4c\"\r\n});\r\nconst auth = tcbApp.auth({persistence: \"local\"});\r\nconsole.log(\"tcbApp\", tcbApp,auth);\r\n\r\n// 匿名登录\r\nauth.anonymousAuthProvider().signIn().then((res:any)=>console.log(\"匿名登录成功\",res)).catch((err:any)=>console.log(\"err\",err));\r\n//  \r\n// 微信登陆,网页授权,  \r\n// 公众号中服务号才能网页登陆\r\n// 开发者平台创建网站app才能网页登陆\r\nconst provider = auth.weixinAuthProvider({\r\n  appid: \"wx184f11caee374a89\",\r\n  scope: \"snsapi_base\",\r\n});\r\n\r\n```\r\n\r\n自定义登录`signInWithEmailAndPassword(email: string, password: string): Promise<LoginState>`\r\n\r\ncos对象存储\r\n\r\n直接使用开发密钥直接用，推荐使用后端关联配置。使用后端配置，会验证域名请求。\r\n\r\n```js\r\nimport COS from \"cos-js-sdk-v5\";\r\n// const cos = new COS({\r\n//     SecretId: 'AKIDPenyxnfo1zDXf4Kn690jJgrnUDQ7uU',\r\n//     SecretKey: '*',\r\n// });\r\n\r\nconst cos  = new COS({\r\n    // 必选参数\r\n    getAuthorization:  async function (options: any, callback: any) {\r\n        // 服务端 JS 和 PHP 例子：https://github.com/tencentyun/cos-js-sdk-v5/blob/master/server/\r\n        // 服务端其他语言参考 COS STS SDK ：https://github.com/tencentyun/qcloud-cos-sts-sdk\r\n        // STS 详细文档指引看：https://cloud.tencent.com/document/product/436/14048\r\n        await axios('https://redding.xiongxiao.me/sts').then(res=>{\r\n            const data = res.data;\r\n            const credentials = data && data.credentials;\r\n            console.log(\"get authorization\",data);\r\n            if (!data || !credentials) return console.error('credentials invalid');\r\n            callback({\r\n                TmpSecretId: credentials.tmpSecretId,\r\n                TmpSecretKey: credentials.tmpSecretKey,\r\n                XCosSecurityToken: credentials.sessionToken,\r\n                // 建议返回服务器时间作为签名的开始时间，避免用户浏览器本地时间偏差过大导致签名错误\r\n                StartTime: data.startTime, // 时间戳，单位秒，如：1580000000\r\n                ExpiredTime: data.expiredTime, // 时间戳，单位秒，如：1580000900\r\n            });\r\n            console.log(\"sts\", data)\r\n        }).catch(console.log)\r\n    }\r\n});\r\nconsole.log(\"cos\", cos)\r\ncos.putObject({\r\n    Bucket: 'vd-1252152609', /* 必须 */\r\n    Region: 'ap-chengdu',     /* 存储桶所在地域，必须字段 */\r\n    Key: 'exampleobject/test1',              /* 必须 */\r\n    StorageClass: 'STANDARD',\r\n    Body: \"我的文件对象\", // 上传文件对象\r\n    onProgress: function(progressData: any) {\r\n        console.log(JSON.stringify(progressData));\r\n    }\r\n}, function(err: any, data: any) {\r\n    console.log(err || data);\r\n    // params body format error, Only allow File|Blob|String.\r\n});\r\n\r\nexport {\r\n    cos\r\n}\r\n```\r\n\r\n后端配置，使用云函数获取临时密钥\r\n```js \r\n'use strict';\r\nvar STS = require('qcloud-cos-sts');\r\nvar crypto = require('crypto');\r\n\r\nexports.main = async (event, context) => {\r\n    // 配置参数\r\n    var config = {\r\n        secretId: \"**\",\r\n        secretKey: \"**\",\r\n        proxy: process.env.Proxy,\r\n        durationSeconds: 1800,\r\n        bucket: \"vd-1252152609\",\r\n        region: \"ap-chengdu\",\r\n        // 允许操作（上传）的对象前缀，可以根据自己网站的用户登录态判断允许上传的目录，例子： user1/* 或者 * 或者a.jpg\r\n        // 请注意当使用 * 时，可能存在安全风险，详情请参阅：https://cloud.tencent.com/document/product/436/40265\r\n        allowPrefix: '_ALLOW_DIR_/*',\r\n        // 密钥的权限列表\r\n        allowActions: [\r\n            // 所有 action 请看文档 https://cloud.tencent.com/document/product/436/31923\r\n            // 简单上传\r\n            'name/cos:PutObject',\r\n            'name/cos:PostObject',\r\n            // 分片上传\r\n            'name/cos:InitiateMultipartUpload',\r\n            'name/cos:ListMultipartUploads',\r\n            'name/cos:ListParts',\r\n            'name/cos:UploadPart',\r\n            'name/cos:CompleteMultipartUpload'\r\n        ],\r\n    };\r\n\r\n    // 获取临时密钥\r\n    var LongBucketName = config.bucket;\r\n    var ShortBucketName = LongBucketName.substr(0, LongBucketName.lastIndexOf('-'));\r\n    var AppId = LongBucketName.substr(LongBucketName.lastIndexOf('-') + 1);\r\n    var policy = {\r\n        'version': '2.0',\r\n        'statement': [{\r\n            'action': config.allowActions,\r\n            'effect': 'allow',\r\n            'resource': [\r\n                'qcs::cos:' + config.region + ':uid/' + AppId + ':prefix//' + AppId + '/' + ShortBucketName + '/' + config.allowPrefix,\r\n            ],\r\n        }],\r\n    };\r\n    var startTime = Math.round(Date.now() / 1000);\r\n    const getTempkeys = await new Promise((resolve, rejects)=>{\r\n        STS.getCredential({\r\n            secretId: config.secretId,\r\n            secretKey: config.secretKey,\r\n            proxy: config.proxy,\r\n            region: config.region,\r\n            durationSeconds: config.durationSeconds,\r\n            policy: policy,\r\n        }, function (err, tempKeys) {\r\n            if (tempKeys) tempKeys.startTime = startTime;\r\n            console.log(\"key\", tempKeys)\r\n            resolve(err || tempKeys)\r\n        });\r\n    })\r\n    return getTempkeys;\r\n};\r\n```",category:1,created:1599105820304,hash:"9a99ac0d21493a958e52cd6f0f2c197393333009",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105823840},{deep:0,guide:0,hasNext:!1,openid:"ea0f50d9733188c8e83f00beff603f6d",parent:"1c1955d70217e0e9f25fde870a8b1737",value:'## 13 导入导出数据\r\n\r\n创建链接标签，创建对象输出，数据转换为blob。\r\n\r\n导入是浏览器打开文件，浏览器默认快捷键ctrl+o是打开文件。浏览器打开的文件没有处理会默认被浏览器处理。\r\n\r\n```js\r\n// 自动触发点击事件\r\nconst AutomaticClick = (obj:any) => {\r\n    const ev = document.createEvent("MouseEvents");\r\n    ev.initMouseEvent("click", true, false, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\r\n    obj.dispatchEvent(ev);\r\n}\r\n \r\n// 导出文件\r\nconst exportJson = (name:any, data:any) => {\r\n    const urlObject = window.URL || window.webkitURL || window;\r\n    const exportBlob = new Blob([data]);\r\n    const createA:any = document.createElementNS("http://www.w3.org/1999/xhtml", "a")\r\n    createA.href = urlObject.createObjectURL(exportBlob);\r\n    createA.download = name;\r\n    AutomaticClick(createA);\r\n}\r\nconst exportJson2 = (name: any, data: any) => {\r\n    const link = document.createElement(\'a\')\r\n    link.download = name??\'notes.json\'\r\n    link.href = \'data:text/plain,\' + JSON.stringify(data)\r\n    link.click()\r\n}\r\nconst importJson = async ( callback: any) => {\r\n    // 创建一个file input\r\n    let input:any = document.createElement(\'input\')\r\n    input.type = \'file\'\r\n\r\n    // 绑定onchange事件\r\n    input.onchange = (event: any) => {\r\n        const files = event.target.files\r\n        if (!files || !files.length) {\r\n            input = null\r\n            throw new Error(\'No files\')\r\n        }\r\n        // 当选择文件后，使用FileReader API读取文件，返回数据\r\n        const reader = new FileReader()\r\n        reader.onload = async (event) => {\r\n            try {\r\n                const config = JSON.parse(event.target?.result?.toString()??"{}")\r\n                callback(config)\r\n                return config\r\n            } catch (e) {\r\n                throw new Error(e)\r\n            }\r\n            input = null\r\n        }\r\n        reader.readAsText(files[0])\r\n    }\r\n    // 触发上传文件\r\n    setTimeout(() => {\r\n        input.click()\r\n    }, 4000);\r\n    // input.click()\r\n    // AutomaticClick(input)\r\n}\r\nconst callback = (data: any) => {\r\n    console.log("callback", data)\r\n}\r\nexport {\r\n    exportJson,\r\n    exportJson2,\r\n    importJson,\r\n}\r\n// exportJson(\'1.json\', `{"a":1}`)\r\n// exportJson2(\'2.json\', `{"a":1}`)\r\n\r\n// importJson(callback)\r\n// console.log("导入")\r\n```',category:1,created:1599105840601,hash:"ec73c5663b519c9d79ac50521340012216ad151a",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105844341},{deep:0,guide:0,hasNext:!1,openid:"305ee414103796c39e351d5046c0a627",parent:"1c1955d70217e0e9f25fde870a8b1737",value:"## 14 windows对象少记录\r\n\r\n```js\r\n//锚点跳转\r\nfunction goAnchor(selector:any) {\r\n    var anchor = document.querySelector(selector);//获取元素\r\n    if(anchor) {\r\n    \tsetTimeout(()=>{//页面没有渲染完成时是无法滚动的，因此设置延迟\r\n    \t\tanchor.scrollIntoView(); //js的内置方法，可滚动视图位置至元素位置\r\n    \t},500);\r\n    } \r\n};\r\n//获取参数\r\nfunction getQueryString(name: string){\r\n     var reg = new RegExp(\"(^|&)\"+ name +\"=([^&]*)(&|$)\");\r\n     var r = window.location.search.substr(1).match(reg);\r\n     if(r!=null)return  unescape(r[2]); return null;\r\n}\r\n// 使用方法：进入页面，如果带有锚点参数，则跳转至锚点地方，参数值就是id名\r\n// let maodian=this.GetQueryString('anchor');\r\n// if(maodian){\r\n//      goAnchor('#'+maodian);\r\n// }\r\n\r\n// 滚动\r\nfunction scrollTo(left:number=0,top:number=0, behavior:ScrollBehavior=\"smooth\"){\r\n    window.scrollTo( { left, top, behavior });\r\n    // 设置滚动行为为平滑的滚动 smootyh\r\n}\r\n// 滚动偏移\r\nfunction scrollBy(left:number=0,top:number=0, behavior:ScrollBehavior=\"smooth\"){\r\n    window.scrollTo( { left, top, behavior });\r\n    // 设置滚动行为为平滑的滚动 smooth\r\n}\r\n\r\nexport {\r\n\tgoAnchor,\r\n    getQueryString,\r\n    scrollTo,\r\n    scrollBy,\r\n}\r\n```\r\n\r\n全屏\r\n```js\r\nconst exitFullscreen = () => {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) {\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) {\r\n    document.webkitExitFullscreen();\r\n  }\r\n};\r\nconst launchFullScreen = (element:any) => {\r\n  if (element.requestFullscreen) {\r\n    element.requestFullscreen();\r\n  } else if (element.mozRequestFullScreen) {\r\n    element.mozRequestFullScreen();\r\n  } else if (element.webkitRequestFullscreen) {\r\n    element.webkitRequestFullscreen();\r\n  } else if (element.msRequestFullscreen) {\r\n    element.msRequestFullscreen();\r\n  }\r\n}\r\n\r\nexport {\r\n    exitFullscreen,\r\n    launchFullScreen\r\n}\r\n```\r\n\r\n在线监听\r\n\r\n```js\r\nwindow.addEventListener('online',  function(){\r\n    // 网络由异常到正常时触发\r\n   });\r\nwindow.addEventListener('offline', function(){\r\n    // 网络由正常常到异常时触发\r\n});\r\n```\r\n",category:1,created:1599105854051,hash:"4bf55b97927b4769fdf349b34facf9a02cf83f70",keys:[],setting:"",status:13,tags:[],title:"",type:205,updated:1599105857594}],u=[{deep:0,guide:0,hasNext:!1,openid:"ba28320f31cad34cb3f690bde371bb85",parent:"",category:0,created:1599105320653,hash:"05b72da3073af4690815427eedd45d2f064c5ab1",keys:[],setting:"",status:10,tags:[],title:"redding",type:0,updated:1599105358159},{deep:0,guide:0,hasNext:!1,openid:"a5168983af25e9d9136c62eb801b82e7",parent:"",category:0,created:1599105368627,hash:"c4ae42eb2dd428c44e63e98c8a1fbbc94e3d74b5",keys:[],setting:"",status:10,tags:[],title:"redding目的",type:0,updated:1599105452159},{deep:0,guide:0,hasNext:!1,openid:"61cb30aff1fd1b2964c859be9041d840",parent:"",category:0,created:1599105454817,hash:"77c904f82acc69e2d44d17e68615198f5089d7b3",keys:[],setting:"",status:10,tags:[],title:"redding结构",type:0,updated:1599105495175},{deep:0,guide:0,hasNext:!1,openid:"1c1955d70217e0e9f25fde870a8b1737",parent:"",category:0,created:1599105498803,hash:"297abdff937ec879aa55676f43b1e28451eee950",keys:[],setting:"",status:10,tags:[],title:"redding使用技术",type:0,updated:1599105540643}];console.log("eblocks",l);var p={DB_IS_INIT:{name:"DB_IS_INIT",value:1,introduce:function(e){switch(e){default:return"IndexDB未初始"}}},DB_VERSION:{name:"DB_VERSION",value:1,introduce:function(e){switch(e){default:return"IndexDB的版本"}}},PAGES_IS_FROM_DB:{name:"PAGES_IS_FROM",value:"DB",introduce:function(e){switch(e){default:return"store数据是否来源IndexDB"}}},PAGES_IS_FROM_URL:{name:"PAGES_IS_FROM",value:"URL",introduce:function(e){switch(e){default:return"store数据是否来源请求"}}},LODDINGPAGE:{name:"LODDINGPAGE",value:"LODDINGPAGE",introduce:function(e){switch(e){default:return"页面加载中"}}}},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e instanceof String)return localStorage.setItem(name,n);var t=e.name,r=e.value;return localStorage.setItem(t,r+"")},b=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e instanceof String)return console.log("get string",e),null!==(n=localStorage.getItem(e))&&void 0!==n?n:t;var r=e,o=localStorage.getItem(r.name);return o||(""!==t?(f(e,t),t):(f(r),r.value))},g=function(e){Object(c["a"])(t,e);var n=Object(s["a"])(t);function t(){var e;return Object(a["a"])(this,t),e=n.call(this,"NoteDB"),e.version(p.DB_VERSION.value).stores({notes:"openid,created,updated,hash,keys,title,category,type,parent"}),e.notes=e.table("notes"),console.log("version",p.DB_VERSION.value),e}return t}(i["a"]),h=new g,m=localStorage.getItem(p.DB_IS_INIT.name);m||(h.transaction("rw",h.notes,Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=[].concat(Object(r["a"])(u.map((function(e){return new d["e"](e)}))),Object(r["a"])(l.map((function(e){return new d["a"](e)})))),h.notes.bulkAdd(n);case 2:case"end":return e.stop()}}),e)})))).catch((function(e){alert(e.stack||e)})),f(p.DB_IS_INIT))},e26d:function(e,n,t){"use strict";t("1ef1")},e5d3:function(e,n,t){},ffe1:function(e,n,t){"use strict";t("a981")}});
//# sourceMappingURL=app.b34d10a8.js.map