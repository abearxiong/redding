{"version":3,"sources":["webpack:///./src/components/WindowHelp.vue?0a87","webpack:///./src/components/Markdown.vue?d4a3","webpack:///./src/views/share/SharePageBlocks.vue?fffb","webpack:///./src/views/share/SharePageBlocks.vue","webpack:///./src/views/share/SharePageBlocks.vue?dbd5","webpack:///./src/components/Markdown.vue","webpack:///./src/components/Markdown.vue?8dc6","webpack:///./src/components/WindowHelp.vue","webpack:///./src/components/WindowHelp.vue?35cf"],"names":["class","contenteditable","style","page","title","blocks","length","isNeedHelp","item","key","openid","type","parse","value","showMarkdown","markdown","update","name","components","WindowHelp","Markdown","data","computed","mounted","this","init","methods","$route","params","$store","getters","getPage","getBlocks","v","val","map","render","__scopeId","isShowRight","isShowLeft","id","onChangeAce","onChangeLeft","ref","html","tabindex","onChangeContent","Cover","props","Object","default","editor","code","isEditLeft","$refs","rightElement","a","edit","minLines","fontSize","tabSize","readOnly","highlightActiveLine","config","set","getSession","setMode","setUseWrapMode","setShowPrintMargin","on","setValue","clearSelection","onFinish","focus","onShowLeft","onShowRight","onOk","closeLeft","showHelp","setScope","filter","unmounted","unbind","e","console","log","preventDefault","onShowMarkdown","text","getValue","target","innerHTML","newContent","$emit","event","handler","showStyle","showName","showIntroduce","index","hotkey","introduce","helpContent"],"mappings":"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","file":"js/sharepageblock.e4e98c85.js","sourcesContent":["export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./WindowHelp.vue?vue&type=style&index=0&id=408a851a&lang=sass&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./WindowHelp.vue?vue&type=style&index=0&id=408a851a&lang=sass&scoped=true\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Markdown.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Markdown.vue?vue&type=style&index=0&lang=scss\"","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SharePageBlocks.vue?vue&type=style&index=0&id=31a15736&lang=scss&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SharePageBlocks.vue?vue&type=style&index=0&id=31a15736&lang=scss&scoped=true\"","<!--\r\n * @Author: xion\r\n * @Date: 2020-08-31 10:22:33\r\n * @LastEditors: xion\r\n * @LastEditTime: 2020-08-31 23:04:12\r\n * @FilePath: \\redding\\src\\views\\share\\SharePageBlock.vue\r\n * @Description: 真是太开心了\r\n-->\r\n<template>\r\n    <div class=\"page-blocks card padding-12\">\r\n        <div class=\"page-block-title no-outline\" contenteditable=\"true\">{{page.title}}</div>\r\n        <div class=\"hr\" style=\"width:80%;\" v-if=\"blocks.length!==0\"/>\r\n        <WindowHelp v-if=\"blocks.length==0||isNeedHelp\"><pre>帮助内容</pre></WindowHelp>\r\n        <div class=\"page-block-item\" v-for=\"item in blocks\" :key=\"item.openid\">\r\n            <template v-if=\"item.type===205\">\r\n                <div v-html=\"parse(item.value)\"></div>\r\n                <Markdown v-if=\"showMarkdown\" :markdown=\"item\" v-on:update=\"update\"/>\r\n            </template>\r\n        </div>\r\n        <div class=\"no-blocks margin-left-24\" v-if=\"blocks.length===0\">没有节点,按N添加Markdown</div> \r\n    </div>\r\n</template>\r\n<script>\r\nimport { magGetters } from \"vuex\";\r\nimport { parseText, parseHtml } from \"@/utils\";\r\nimport WindowHelp from \"@/components/WindowHelp\";\r\nimport Markdown from \"@/components/Markdown\";\r\nexport default {\r\n    name: \"PageBlock\",\r\n    components: { WindowHelp, Markdown },\r\n    data(){\r\n        return {\r\n            blocks: [],\r\n            page: {},\r\n            isNeedHelp: false,\r\n            showMarkdown: false,\r\n        }\r\n    },\r\n    computed: {\r\n        \r\n    },\r\n    mounted(){\r\n        this.init();\r\n    },\r\n    methods: {\r\n        init(){\r\n            const openid = this.$route.params.openid;\r\n            this.page = this.$store.getters.getPage(openid);\r\n            this.blocks = this.$store.getters.getBlocks(openid);\r\n        },\r\n        parse(v){\r\n            return parseText(v)\r\n        },\r\n        update(val){\r\n            this.blocks = this.blocks.map(item=>{\r\n                if(item.openid===val.openid)return val;\r\n                return item;\r\n            })\r\n            this.showMarkdown = false;\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.page-blocks {\r\n    width: 80%;\r\n    height: 100%;\r\n    margin: auto;\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n</style>","import { render } from \"./SharePageBlocks.vue?vue&type=template&id=31a15736&scoped=true\"\nimport script from \"./SharePageBlocks.vue?vue&type=script&lang=js\"\nexport * from \"./SharePageBlocks.vue?vue&type=script&lang=js\"\n\nimport \"./SharePageBlocks.vue?vue&type=style&index=0&id=31a15736&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-31a15736\"\n\nexport default script","<template>\r\n    <Cover>\r\n      <div class=\"markdown-edit\" :style=\"{pointerEvents:!isShowRight&&!isShowLeft?'none':'auto'}\">\r\n          <slot></slot>\r\n        <div class=\"markdown-edit-content\">\r\n          <transition name=\"reslide-fade\">\r\n            <div class=\"content-left\" v-show=\"isShowLeft\">\r\n                <div id=\"editor\"   @change=\"onChangeAce\" @click=\"onChangeLeft(true)\"></div>\r\n            </div>\r\n          </transition>\r\n           <transition name=\"slide-fade\" >\r\n                <div class=\"content-right\" ref=\"rightElement\" v-if=\"isShowRight\" :style=\"{'width': !isShowLeft?'100%':'45%'}\">\r\n                    <div \r\n                        class=\"markdown-preview\" \r\n                        ref=\"markdown-preview\"  \r\n                        v-html=\"html\"\r\n                        tabindex=\"1\"\r\n                        :contenteditable=\"true\"\r\n                        @input=\"onChangeContent\"\r\n                        @click=\"onChangeLeft(false)\"\r\n                    ></div>\r\n                </div> \r\n          </transition>\r\n        </div>\r\n      </div>\r\n    </Cover>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport ace, {Ace, edit} from \"ace-builds\";\r\nimport Cover from \"@/components/Cover\";\r\nimport Icon from \"@/components/Icon\";\r\nimport { parseText, parseHtml, debounce } from \"@/utils\";\r\nimport hotkeys from 'hotkeys-js';\r\n\r\nexport default {\r\n    name: \"Markdown\",\r\n    components: {\r\n        Cover\r\n    },\r\n    props: {\r\n        markdown: {\r\n            type: Object,\r\n            default: ()=>{\r\n                return {value: \"##\"};\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            isShowRight: true,\r\n            isShowLeft: true,\r\n            editor: \"\", \r\n            code: \"code\",\r\n            html: \"\",\r\n            isEditLeft: true,\r\n        }\r\n    },\r\n    mounted() {\r\n        const element = this.$refs.rightElement;\r\n        const editor = ace.edit(\"editor\", {\r\n            // maxLines: 20, // 最大行数，超过会自动出现滚动条\r\n            minLines: 10, // 最小行数，还未到最大行数时，编辑器会自动伸缩大小\r\n            fontSize: 12, // 编辑器内字体大小\r\n            // theme: this.themePath, // 默认设置的主题\r\n            // mode: this.modePath, // 默认设置的语言模式\r\n            tabSize: 4, // 制表符设置为 4 个空格大小\r\n            readOnly: false,\r\n            highlightActiveLine: false,\r\n            value: this.code\r\n        });\r\n        ace.config.set(\r\n            \"basePath\", \r\n            \"https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/\"\r\n        )\r\n        // editor.setTheme(\"ace/theme/monokai\"); \r\n        editor.getSession().setMode(\"ace/mode/markdown\");\r\n        editor.getSession().setUseWrapMode(true); // 自动换行\r\n        editor.setShowPrintMargin(false); \r\n        this.editor = editor;\r\n        editor.getSession().on(\"change\", this.onChangeAce);\r\n        const value = this.markdown.value||\"code\";\r\n        editor.setValue(value);\r\n        editor.clearSelection()\r\n        editor.on(\"blur\", this.onFinish);   \r\n        editor.focus()\r\n        \r\n        hotkeys(\"ctrl+q,ctrl+l\", \"markdown\",this.onShowLeft);\r\n        hotkeys(\"ctrl+e\", \"markdown\", this.onShowRight);\r\n        hotkeys(\"ctrl+enter,ctrl+s\",\"markdown\", this.onOk);\r\n        hotkeys(\"esc\", \"markdown\", this.closeLeft)\r\n        hotkeys(\"ctrl+h\",\"markdown\",this.showHelp);\r\n        hotkeys.setScope(\"markdown\");\r\n        hotkeys.filter = ()=>true;\r\n        // document.getElementsByTagName(\"textarea\")[0].focus();\r\n        // document.getElementsByClassName(\"markdown-preview\")[0].focus()\r\n        // console.log(\"focuse\", document.activeElement)\r\n    },\r\n    unmounted(){\r\n        hotkeys.unbind(\"ctrl+q,ctrl+l\",\"markdown\",this.onShowLeft);\r\n        hotkeys.unbind(\"ctrl+e\", \"markdown\", this.onShowRight);\r\n        hotkeys.unbind(\"ctrl+enter,ctrl+s\", \"markdown\", this.onOk);\r\n        hotkeys.unbind(\"esc\", \"markdown\", this.closeLeft)\r\n        hotkeys.unbind(\"ctrl+h\",\"markdown\",this.showHelp);\r\n        hotkeys.setScope(\"all\")\r\n    },\r\n    methods: {\r\n        onShowLeft(e) {\r\n            this.isShowLeft = !this.isShowLeft;\r\n            console.log(\"key\", e)\r\n            e.preventDefault()\r\n        },\r\n        onShowRight(e) {\r\n            this.isShowRight = !this.isShowRight;\r\n            e.preventDefault()\r\n        },\r\n        onOk(e) {\r\n            this.onShowMarkdown();\r\n            e.preventDefault();\r\n        },\r\n        onChangeAce() { \r\n            if( this.isEditLeft ) {\r\n                this.text = this.editor.getValue();\r\n                this.html = parseText(this.text );\r\n            }\r\n        },\r\n        onChangeContent(e) {          \r\n            const html = e.target.innerHTML;\r\n            const text = parseHtml(html);\r\n            this.text = text;\r\n            this.editor.setValue(text);\r\n            this.editor.clearSelection();\r\n        },\r\n        onChangeLeft(val) {\r\n            this.isEditLeft = val;\r\n        },\r\n        onFinish( ) {\r\n            this.isEditLeft = false;\r\n        },\r\n        onShowMarkdown() {\r\n            const newContent = this.markdown;\r\n            newContent.value = this.text;\r\n            this.$emit(\"update\", newContent);\r\n        },\r\n        showHelp(event, handler){\r\n            // console.log(\"event markdown\", event, handler)\r\n            this.$emit(\"markdown-help\");\r\n            event.preventDefault();\r\n        },\r\n        closeLeft(e){\r\n            if(!this.isShowLeft&&!this.isShowRight){\r\n                this.onShowMarkdown()\r\n            }else if( this.isShowLeft && this.isShowRight){\r\n                this.isShowLeft = !this.isShowLeft;\r\n            }else if( this.isShowLeft && !this.isShowRight){\r\n                this.isShowLeft = !this.isShowLeft;\r\n            }else if( !this.isShowLeft && this.isShowRight){\r\n                this.isShowLeft = !this.isShowLeft;\r\n            }\r\n \r\n            e.preventDefault();\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// markdown-edit\r\n.markdown-edit {\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: column;\r\n  .markdown-edit-content {\r\n    flex-grow: 1;\r\n    display: flex;\r\n    .content-left {\r\n      flex-grow: 1;\r\n      display: flex;\r\n      #editor {\r\n          width: 100%;\r\n          height: 100%;\r\n      }\r\n    }\r\n    .content-right {\r\n        width: 45%;\r\n        height: 100%;\r\n        display: flex;\r\n        .markdown-preview {\r\n            flex-grow: 1;\r\n        }\r\n    }\r\n    /* 可以设置不同的进入和离开动画 */\r\n    /* 设置持续时间和动画函数 */\r\n    .slide-fade-enter-active {\r\n        transform: translate(400px, 0);\r\n        opacity: 0;\r\n        transition: all 2.8s ease;\r\n    }\r\n    .slide-fade-leave-active {\r\n        transition: all 1.8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\r\n    }\r\n    .slide-fade-enter-to {\r\n        transform: translate(0, 0);\r\n        opacity: 1;\r\n    }\r\n    .slide-fade-leave-to {\r\n        transform: translate(400px, 0);\r\n        opacity: 0;\r\n    }\r\n\r\n   .reslide-fade-leave-active {\r\n        opacity: 1;\r\n        transform: translate(400, 0);\r\n        transition: all 3.8s cubic-bezier(1.0, 0.5, 0.8, 1.0);\r\n    }\r\n    .reslide-fade-leave-to {\r\n        transform: translate(0, 0);\r\n        opacity: 0;\r\n    }\r\n    .reslide-fade-enter-active {\r\n        transform: translate(-400px, -100);\r\n        opacity: 0.5;\r\n        transition: all 4.8s ease;\r\n        z-index: 10;\r\n    }\r\n    .reslide-fade-enter-to {\r\n        transform: translate(100, 0);\r\n        opacity: 1;\r\n    }\r\n \r\n    @media (max-width: 1024px) {\r\n        .content-right {\r\n            display: none;\r\n        }\r\n    }\r\n  }\r\n}\r\n// markdown-edit-style\r\n.markdown-edit {\r\n    .content-left {\r\n        background-color: grey;\r\n        textarea::selections {    background-color: red;    color: #fff;}\r\n    }\r\n    .content-right {\r\n        background-color: #fcfaf2;\r\n        .markdown-preview {\r\n            text-align: left;\r\n            // margin: 2rem;\r\n            outline: none;\r\n            padding: 0 2rem 0 1rem;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n</style>\r\n","import { render } from \"./Markdown.vue?vue&type=template&id=07d811f4\"\nimport script from \"./Markdown.vue?vue&type=script&lang=js\"\nexport * from \"./Markdown.vue?vue&type=script&lang=js\"\n\nimport \"./Markdown.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","<!--\r\n * @Author: xion\r\n * @Date: 2020-08-31 16:46:15\r\n * @LastEditors: xion\r\n * @LastEditTime: 2020-09-01 18:04:27\r\n * @FilePath: \\redding\\src\\components\\WindowHelp.vue\r\n * @Description: 真是太开心了\r\n-->\r\n<template>\r\n    <div class=\"show-help el-card padding-8\" :style=\"showStyle\">帮助:{{showName}}<small>ctrl+h隐藏帮助</small>\r\n        <div>\r\n            <slot></slot>\r\n            <table class=\"el-table\">\r\n                <tr>\r\n                    <th>命名</th>\r\n                    <th>按键</th>\r\n                    <th>介绍</th>\r\n                </tr>\r\n                <tr v-for=\"(item,index) in showIntroduce\" :key=\"index+showName\">\r\n                    <td>{{ item.name }}</td>\r\n                    <td>{{ item.hotkey }}</td>\r\n                    <td><div v-html=\"item.introduce\"></div></td>\r\n                </tr>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { getFormatStyle } from '@/utils';\r\nexport default {\r\n    name: \"WindowHelp\",\r\n    props: {\r\n        helpContent: {\r\n            type: Object,\r\n            default: () => {\r\n                return {\r\n                    name: ()=>\"帮助\",\r\n                    introduce: ()=>[],\r\n                    style: ()=>\"\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        showIntroduce(){\r\n            return this.helpContent.introduce();\r\n        },\r\n        showName() {\r\n            return this.helpContent.name();\r\n        },\r\n        showStyle() {\r\n            return getFormatStyle(this.helpContent.style());\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"sass\" scoped>\r\n\r\n</style>","import { render } from \"./WindowHelp.vue?vue&type=template&id=408a851a&scoped=true\"\nimport script from \"./WindowHelp.vue?vue&type=script&lang=js\"\nexport * from \"./WindowHelp.vue?vue&type=script&lang=js\"\n\nimport \"./WindowHelp.vue?vue&type=style&index=0&id=408a851a&lang=sass&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-408a851a\"\n\nexport default script"],"sourceRoot":""}